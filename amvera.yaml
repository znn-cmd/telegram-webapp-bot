name: telegram-webapp-bot
runtime: python
version: "3.11"

build:
  commands:
    - chmod +x install-packages.sh
    - ./install-packages.sh

run:
  command: python app.py
  port: 8080

env:
  - name: TELEGRAM_BOT_TOKEN
    value: 7215676549:AAESuoYqLeYSNP02E2kuLvh9B5l2RwhRe0I
  - name: SUPABASE_URL
    value: https://dzllnnohurlzjyabgsft.supabase.co
  - name: SUPABASE_ANON_KEY
    value: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR6bGxubm9odXJsemp5YWJnc2Z0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA5NDgwMjcsImV4cCI6MjA2NjUyNDAyN30.sJCIeeIm0Ye1JbAdw5HzfAMe8QLgQomArK8yoppuevQ
  # Redis конфигурация для Amvera
  - name: REDIS_HOST
    value: your_redis_host_here
  - name: REDIS_PORT
    value: "6379"
  - name: REDIS_DB
    value: "0"
  - name: REDIS_PASSWORD
    value: your_redis_password_here
  - name: CACHE_TTL_HOURS
    value: "24"
  - name: CACHE_ENABLED
    value: "true"

resources:
  memory: 512Mi
  cpu: 250m