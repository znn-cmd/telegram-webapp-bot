<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Отчет по оценке недвижимости - Türkiye, Antalya, Konyaaltı, Uncalı</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f8f9fa;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .report-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
            flex: 1;
        }

        /* Header */
        .report-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px 0;
            margin-bottom: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .logo {
            width: 60px;
            height: 60px;
            background: white;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            color: #667eea;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .header-info h1 {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .header-info .subtitle {
            font-size: 16px;
            opacity: 0.9;
            font-weight: 400;
        }

        .header-info .location {
            font-size: 18px;
            margin-top: 5px;
            opacity: 0.95;
        }

        .header-info .property-details {
            font-size: 14px;
            margin-top: 5px;
            opacity: 0.8;
        }

        /* Main content */
        .report-content {
            background: white;
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        /* Market indicators table styles */
        .market-indicators-table { margin-top: 20px; }
        .market-data-table {
            width: 100%;
            background: #f8f9fa;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            border: 1px solid rgba(0, 0, 0, 0.05);
            border-collapse: collapse;
        }
        .market-data-table thead { background: linear-gradient(90deg, #4CAF50, #45a049); }
        .category-header {
            padding: 20px 25px;
            color: white;
            font-size: 18px;
            font-weight: 700;
            text-align: center;
            border: none;
            width: 50%;
        }
        .data-cell {
            padding: 20px 25px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.08);
            background: white;
        }
        .data-cell:last-child { border-bottom: none; }
        .cell-label {
            font-size: 14px;
            color: #666;
            margin-bottom: 8px;
            font-weight: 500;
        }
        .cell-value {
            font-size: 16px;
            font-weight: 700;
            color: #333;
            line-height: 1.2;
        }

        /* Price forecast styles */
        .price-forecast-market-table {
            width: 100%;
            background: #f8f9fa;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            border: 1px solid rgba(0, 0, 0, 0.05);
            border-collapse: collapse;
            margin: 20px 0;
        }
        .price-forecast-market-table thead {
            background: linear-gradient(90deg, #4CAF50, #45a049);
        }
        .forecast-category-header {
            padding: 20px 25px;
            color: white;
            font-size: 18px;
            font-weight: 700;
            text-align: center;
            border: none;
            width: 50%;
        }
        .forecast-data-cell {
            padding: 20px 25px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.08);
            background: white;
        }
        .forecast-cell-label {
            font-size: 14px;
            color: #666;
            margin-bottom: 8px;
            font-weight: 500;
        }
        .forecast-cell-value {
            font-size: 16px;
            font-weight: 700;
            color: #333;
            line-height: 1.2;
        }
        .forecast-cell-value.user-price { color: #007bff; }
        .forecast-cell-value.market-price { color: #6f42c1; }
        .forecast-cell-growth {
            font-size: 12px;
            margin-top: 4px;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
            display: inline-block;
        }
        .forecast-cell-growth.positive {
            background: #d4edda;
            color: #155724;
        }
        .forecast-cell-growth.negative {
            background: #f8d7da;
            color: #721c24;
        }

        /* Trends styles */
        .data-section {
            margin: 30px 0;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .data-section-title {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 25px;
            margin: 0;
            font-size: 20px;
            font-weight: 600;
        }
        .data-section-content { padding: 25px; }
        .trends-table { width: 100%; border-collapse: collapse; margin: 15px 0; }
        .trends-table th {
            background: #28a745;
            color: white;
            padding: 12px 8px;
            text-align: center;
            font-weight: 600;
            font-size: 12px;
        }
        .trends-table td {
            padding: 10px 8px;
            text-align: center;
            border-bottom: 1px solid #dee2e6;
            font-size: 11px;
        }
        .trends-table tr:nth-child(even) { background: #f8f9fa; }

        /* Chart styles */
        .chart-container {
            margin: 20px 0;
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            min-height: 450px;
        }
        .chart-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #333;
            text-align: center;
        }
        .chart-controls {
            text-align: center;
            margin-bottom: 15px;
        }
        .chart-button {
            background: #007bff;
            color: white;
            border: none;
            padding: 8px 16px;
            margin: 0 5px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            transition: background-color 0.3s ease;
        }
        .chart-button.active {
            background: #28a745;
        }
        .chart-button:hover {
            opacity: 0.9;
        }

        /* Footer */
        .report-footer {
            background: #2c3e50;
            color: white;
            padding: 25px 0;
            text-align: center;
            margin-top: auto;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        .footer-logo {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #3498db;
        }

        .footer-text {
            margin-bottom: 15px;
            opacity: 0.9;
        }

        .telegram-button {
            display: inline-block;
            background: linear-gradient(135deg, #0088cc, #006ba8);
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,136,204,0.3);
        }

        .telegram-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,136,204,0.4);
            color: white;
            text-decoration: none;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }

            .header-info h1 {
                font-size: 22px;
            }

            .report-content {
                padding: 20px;
                margin-bottom: 20px;
            }

            .report-container {
                padding: 0 10px;
            }
            
            .category-header, .forecast-category-header {
                padding: 16px 20px;
                font-size: 16px;
            }
            
            .data-cell, .forecast-data-cell {
                padding: 16px 20px;
            }
            
            .chart-container {
                padding: 15px;
                min-height: 350px;
            }
            
            .chart-button {
                padding: 6px 12px;
                font-size: 11px;
                margin: 2px;
            }
        }

        @media (max-width: 480px) {
            .header-info h1 {
                font-size: 20px;
            }

            .report-content {
                padding: 15px;
            }
            
            .category-header, .forecast-category-header {
                padding: 14px 16px;
                font-size: 14px;
            }
            
            .data-cell, .forecast-data-cell {
                padding: 14px 16px;
            }
            
            .chart-container {
                padding: 10px;
                min-height: 300px;
            }
            
            .chart-button {
                padding: 5px 10px;
                font-size: 10px;
                margin: 1px;
            }
            
            .chart-title {
                font-size: 16px;
            }
        }

        /* Ensure full width on all devices */
        @media (min-width: 1200px) {
            .report-container,
            .header-content,
            .footer-content {
                max-width: 100%;
                padding: 0 30px;
            }
        }
    </style>
</head>
<body>
    <div class="report-header">
        <div class="header-content">
            <div class="logo">🏠</div>
            <div class="header-info">
                <h1>Aaadviser</h1>
                <div class="subtitle">Инсайты рынка недвижимости</div>
                <div class="location">Türkiye, Antalya, Konyaaltı, Uncalı</div>
                <div class="property-details">135 м², 9750000 TRY</div>
            </div>
        </div>
    </div>

    <div class="report-container">
        <div class="report-content">
            <div id="reportContent">
                <!-- Содержимое отчета будет добавлено через JavaScript -->
                <div style="text-align: center; padding: 40px;">
                    <p>Загрузка данных отчета...</p>
                </div>
            </div>
            
            <!-- Chart Container -->
            <div class="chart-container">
                <div class="chart-title">График трендов цен</div>
                <div class="chart-controls">
                    <button class="chart-button active" onclick="switchChart('sale')">Цена м² продажи</button>
                    <button class="chart-button" onclick="switchChart('rent')">Цена м² аренды</button>
                </div>
                <canvas id="trendsChart" style="height: 400px; max-height: 400px;"></canvas>
            </div>
            
            <div style="margin-top: 30px; padding: 20px; background: #fff3cd; border-radius: 12px; text-align: center;">
                <p style="margin: 0; color: #856404; font-style: italic;">
                    Отчет создан 24.08.2025 с помощью Aaadviser
                </p>
            </div>
        </div>
    </div>

    <div class="report-footer">
        <div class="footer-content">
            <div class="footer-logo">🏠 Aaadviser</div>
            <div class="footer-text">
                Профессиональная аналитика недвижимости с AI-прогнозами
            </div>
            <a href="https://t.me/Aaadviser_bot?start=webapp" class="telegram-button">
                📱 Открыть приложение в Telegram
            </a>
        </div>
    </div>

    <script>
        // Trends data from the app
        const trendsData = [{"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 96, "count_for_sale": 230, "date": "2018-01-01", "period": "monthly", "price_change_rent": null, "price_change_sale": null, "property_month": 1, "property_year": 2018, "trend_type": "price_trend", "trend_value": 3198, "unit_price_for_rent": 12.25, "unit_price_for_sale": 3198, "yield": 4.5966}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 163, "count_for_sale": 313, "date": "2018-02-01", "period": "monthly", "price_change_rent": 0.0212, "price_change_sale": 0.0163, "property_month": 2, "property_year": 2018, "trend_type": "price_trend", "trend_value": 3250, "unit_price_for_rent": 12.51, "unit_price_for_sale": 3250, "yield": 4.6191}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 203, "count_for_sale": 360, "date": "2018-03-01", "period": "monthly", "price_change_rent": 0.0216, "price_change_sale": 0.0166, "property_month": 3, "property_year": 2018, "trend_type": "price_trend", "trend_value": 3304, "unit_price_for_rent": 12.78, "unit_price_for_sale": 3304, "yield": 4.6416}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 159, "count_for_sale": 324, "date": "2018-04-01", "period": "monthly", "price_change_rent": 0.0211, "price_change_sale": 0.016, "property_month": 4, "property_year": 2018, "trend_type": "price_trend", "trend_value": 3357, "unit_price_for_rent": 13.05, "unit_price_for_sale": 3357, "yield": 4.6649}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 89, "count_for_sale": 199, "date": "2018-05-01", "period": "monthly", "price_change_rent": 0.0207, "price_change_sale": 0.0146, "property_month": 5, "property_year": 2018, "trend_type": "price_trend", "trend_value": 3406, "unit_price_for_rent": 13.32, "unit_price_for_sale": 3406, "yield": 4.6929}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 112, "count_for_sale": 212, "date": "2018-06-01", "period": "monthly", "price_change_rent": 0.0195, "price_change_sale": 0.0138, "property_month": 6, "property_year": 2018, "trend_type": "price_trend", "trend_value": 3453, "unit_price_for_rent": 13.58, "unit_price_for_sale": 3453, "yield": 4.7194}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 100, "count_for_sale": 217, "date": "2018-07-01", "period": "monthly", "price_change_rent": 0.0191, "price_change_sale": 0.0159, "property_month": 7, "property_year": 2018, "trend_type": "price_trend", "trend_value": 3508, "unit_price_for_rent": 13.84, "unit_price_for_sale": 3508, "yield": 4.7343}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 96, "count_for_sale": 201, "date": "2018-08-01", "period": "monthly", "price_change_rent": 0.0202, "price_change_sale": 0.0177, "property_month": 8, "property_year": 2018, "trend_type": "price_trend", "trend_value": 3570, "unit_price_for_rent": 14.12, "unit_price_for_sale": 3570, "yield": 4.7462}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 26, "count_for_sale": 171, "date": "2018-09-01", "period": "monthly", "price_change_rent": 0.022, "price_change_sale": 0.0154, "property_month": 9, "property_year": 2018, "trend_type": "price_trend", "trend_value": 3625, "unit_price_for_rent": 14.43, "unit_price_for_sale": 3625, "yield": 4.7768}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 31, "count_for_sale": 172, "date": "2018-10-01", "period": "monthly", "price_change_rent": 0.0243, "price_change_sale": 0.0108, "property_month": 10, "property_year": 2018, "trend_type": "price_trend", "trend_value": 3664, "unit_price_for_rent": 14.78, "unit_price_for_sale": 3664, "yield": 4.8406}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 43, "count_for_sale": 189, "date": "2018-11-01", "period": "monthly", "price_change_rent": 0.0264, "price_change_sale": 0.0055, "property_month": 11, "property_year": 2018, "trend_type": "price_trend", "trend_value": 3684, "unit_price_for_rent": 15.17, "unit_price_for_sale": 3684, "yield": 4.9414}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 43, "count_for_sale": 111, "date": "2018-12-01", "period": "monthly", "price_change_rent": 0.0277, "price_change_sale": 0.0019, "property_month": 12, "property_year": 2018, "trend_type": "price_trend", "trend_value": 3691, "unit_price_for_rent": 15.59, "unit_price_for_sale": 3691, "yield": 5.0685}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 43, "count_for_sale": 194, "date": "2019-01-01", "period": "monthly", "price_change_rent": 0.0269, "price_change_sale": -0.0014, "property_month": 1, "property_year": 2019, "trend_type": "price_trend", "trend_value": 3686, "unit_price_for_rent": 16.01, "unit_price_for_sale": 3686, "yield": 5.2122}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 43, "count_for_sale": 195, "date": "2019-02-01", "period": "monthly", "price_change_rent": 0.0244, "price_change_sale": -0.0024, "property_month": 2, "property_year": 2019, "trend_type": "price_trend", "trend_value": 3677, "unit_price_for_rent": 16.4, "unit_price_for_sale": 3677, "yield": 5.3522}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 67, "count_for_sale": 189, "date": "2019-03-01", "period": "monthly", "price_change_rent": 0.0213, "price_change_sale": -0.0005, "property_month": 3, "property_year": 2019, "trend_type": "price_trend", "trend_value": 3675, "unit_price_for_rent": 16.75, "unit_price_for_sale": 3675, "yield": 5.4694}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 99, "count_for_sale": 153, "date": "2019-04-01", "period": "monthly", "price_change_rent": 0.0191, "price_change_sale": 0.0035, "property_month": 4, "property_year": 2019, "trend_type": "price_trend", "trend_value": 3688, "unit_price_for_rent": 17.07, "unit_price_for_sale": 3688, "yield": 5.5542}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 115, "count_for_sale": 201, "date": "2019-05-01", "period": "monthly", "price_change_rent": 0.0176, "price_change_sale": 0.0081, "property_month": 5, "property_year": 2019, "trend_type": "price_trend", "trend_value": 3718, "unit_price_for_rent": 17.37, "unit_price_for_sale": 3718, "yield": 5.6062}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 116, "count_for_sale": 234, "date": "2019-06-01", "period": "monthly", "price_change_rent": 0.0167, "price_change_sale": 0.0129, "property_month": 6, "property_year": 2019, "trend_type": "price_trend", "trend_value": 3766, "unit_price_for_rent": 17.66, "unit_price_for_sale": 3766, "yield": 5.6272}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 111, "count_for_sale": 237, "date": "2019-07-01", "period": "monthly", "price_change_rent": 0.0159, "price_change_sale": 0.0183, "property_month": 7, "property_year": 2019, "trend_type": "price_trend", "trend_value": 3835, "unit_price_for_rent": 17.94, "unit_price_for_sale": 3835, "yield": 5.6136}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 116, "count_for_sale": 223, "date": "2019-08-01", "period": "monthly", "price_change_rent": 0.0151, "price_change_sale": 0.0229, "property_month": 8, "property_year": 2019, "trend_type": "price_trend", "trend_value": 3923, "unit_price_for_rent": 18.21, "unit_price_for_sale": 3923, "yield": 5.5702}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 136, "count_for_sale": 254, "date": "2019-09-01", "period": "monthly", "price_change_rent": 0.0143, "price_change_sale": 0.0263, "property_month": 9, "property_year": 2019, "trend_type": "price_trend", "trend_value": 4026, "unit_price_for_rent": 18.47, "unit_price_for_sale": 4026, "yield": 5.5052}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 137, "count_for_sale": 268, "date": "2019-10-01", "period": "monthly", "price_change_rent": 0.0141, "price_change_sale": 0.0301, "property_month": 10, "property_year": 2019, "trend_type": "price_trend", "trend_value": 4147, "unit_price_for_rent": 18.73, "unit_price_for_sale": 4147, "yield": 5.4198}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 145, "count_for_sale": 255, "date": "2019-11-01", "period": "monthly", "price_change_rent": 0.0128, "price_change_sale": 0.0354, "property_month": 11, "property_year": 2019, "trend_type": "price_trend", "trend_value": 4294, "unit_price_for_rent": 18.97, "unit_price_for_sale": 4294, "yield": 5.3014}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 149, "count_for_sale": 189, "date": "2019-12-01", "period": "monthly", "price_change_rent": 0.0127, "price_change_sale": 0.0408, "property_month": 12, "property_year": 2019, "trend_type": "price_trend", "trend_value": 4469, "unit_price_for_rent": 19.21, "unit_price_for_sale": 4469, "yield": 5.1582}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 186, "count_for_sale": 227, "date": "2020-01-01", "period": "monthly", "price_change_rent": 0.0109, "price_change_sale": 0.0448, "property_month": 1, "property_year": 2020, "trend_type": "price_trend", "trend_value": 4669, "unit_price_for_rent": 19.42, "unit_price_for_sale": 4669, "yield": 4.9912}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 196, "count_for_sale": 231, "date": "2020-02-01", "period": "monthly", "price_change_rent": 0.0077, "price_change_sale": 0.0467, "property_month": 2, "property_year": 2020, "trend_type": "price_trend", "trend_value": 4887, "unit_price_for_rent": 19.57, "unit_price_for_sale": 4887, "yield": 4.8054}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 173, "count_for_sale": 241, "date": "2020-03-01", "period": "monthly", "price_change_rent": 0.0051, "price_change_sale": 0.0442, "property_month": 3, "property_year": 2020, "trend_type": "price_trend", "trend_value": 5103, "unit_price_for_rent": 19.67, "unit_price_for_sale": 5103, "yield": 4.6255}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 142, "count_for_sale": 164, "date": "2020-04-01", "period": "monthly", "price_change_rent": 0.0041, "price_change_sale": 0.0384, "property_month": 4, "property_year": 2020, "trend_type": "price_trend", "trend_value": 5299, "unit_price_for_rent": 19.75, "unit_price_for_sale": 5299, "yield": 4.4725}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 114, "count_for_sale": 134, "date": "2020-05-01", "period": "monthly", "price_change_rent": 0.0061, "price_change_sale": 0.0321, "property_month": 5, "property_year": 2020, "trend_type": "price_trend", "trend_value": 5469, "unit_price_for_rent": 19.87, "unit_price_for_sale": 5469, "yield": 4.3598}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 127, "count_for_sale": 177, "date": "2020-06-01", "period": "monthly", "price_change_rent": 0.0091, "price_change_sale": 0.0267, "property_month": 6, "property_year": 2020, "trend_type": "price_trend", "trend_value": 5615, "unit_price_for_rent": 20.05, "unit_price_for_sale": 5615, "yield": 4.285}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 173, "count_for_sale": 221, "date": "2020-07-01", "period": "monthly", "price_change_rent": 0.011, "price_change_sale": 0.024, "property_month": 7, "property_year": 2020, "trend_type": "price_trend", "trend_value": 5750, "unit_price_for_rent": 20.27, "unit_price_for_sale": 5750, "yield": 4.2303}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 202, "count_for_sale": 263, "date": "2020-08-01", "period": "monthly", "price_change_rent": 0.0118, "price_change_sale": 0.0245, "property_month": 8, "property_year": 2020, "trend_type": "price_trend", "trend_value": 5891, "unit_price_for_rent": 20.51, "unit_price_for_sale": 5891, "yield": 4.1779}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 216, "count_for_sale": 271, "date": "2020-09-01", "period": "monthly", "price_change_rent": 0.0117, "price_change_sale": 0.0283, "property_month": 9, "property_year": 2020, "trend_type": "price_trend", "trend_value": 6058, "unit_price_for_rent": 20.75, "unit_price_for_sale": 6058, "yield": 4.1103}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 168, "count_for_sale": 239, "date": "2020-10-01", "period": "monthly", "price_change_rent": 0.0154, "price_change_sale": 0.0338, "property_month": 10, "property_year": 2020, "trend_type": "price_trend", "trend_value": 6263, "unit_price_for_rent": 21.07, "unit_price_for_sale": 6263, "yield": 4.037}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 141, "count_for_sale": 208, "date": "2020-11-01", "period": "monthly", "price_change_rent": 0.0199, "price_change_sale": 0.0369, "property_month": 11, "property_year": 2020, "trend_type": "price_trend", "trend_value": 6494, "unit_price_for_rent": 21.49, "unit_price_for_sale": 6494, "yield": 3.9711}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 91, "count_for_sale": 155, "date": "2020-12-01", "period": "monthly", "price_change_rent": 0.0168, "price_change_sale": 0.035, "property_month": 12, "property_year": 2020, "trend_type": "price_trend", "trend_value": 6721, "unit_price_for_rent": 21.85, "unit_price_for_sale": 6721, "yield": 3.9012}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 85, "count_for_sale": 183, "date": "2021-01-01", "period": "monthly", "price_change_rent": 0.0041, "price_change_sale": 0.032, "property_month": 1, "property_year": 2021, "trend_type": "price_trend", "trend_value": 6936, "unit_price_for_rent": 21.94, "unit_price_for_sale": 6936, "yield": 3.7958}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 88, "count_for_sale": 204, "date": "2021-02-01", "period": "monthly", "price_change_rent": -0.0105, "price_change_sale": 0.0293, "property_month": 2, "property_year": 2021, "trend_type": "price_trend", "trend_value": 7139, "unit_price_for_rent": 21.71, "unit_price_for_sale": 7139, "yield": 3.6493}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 104, "count_for_sale": 239, "date": "2021-03-01", "period": "monthly", "price_change_rent": -0.012, "price_change_sale": 0.0263, "property_month": 3, "property_year": 2021, "trend_type": "price_trend", "trend_value": 7327, "unit_price_for_rent": 21.45, "unit_price_for_sale": 7327, "yield": 3.513}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 101, "count_for_sale": 209, "date": "2021-04-01", "period": "monthly", "price_change_rent": 0.0093, "price_change_sale": 0.0257, "property_month": 4, "property_year": 2021, "trend_type": "price_trend", "trend_value": 7515, "unit_price_for_rent": 21.65, "unit_price_for_sale": 7515, "yield": 3.4571}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 89, "count_for_sale": 210, "date": "2021-05-01", "period": "monthly", "price_change_rent": 0.0388, "price_change_sale": 0.0275, "property_month": 5, "property_year": 2021, "trend_type": "price_trend", "trend_value": 7722, "unit_price_for_rent": 22.49, "unit_price_for_sale": 7722, "yield": 3.4949}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 80, "count_for_sale": 219, "date": "2021-06-01", "period": "monthly", "price_change_rent": 0.0582, "price_change_sale": 0.0341, "property_month": 6, "property_year": 2021, "trend_type": "price_trend", "trend_value": 7985, "unit_price_for_rent": 23.8, "unit_price_for_sale": 7985, "yield": 3.5767}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 72, "count_for_sale": 216, "date": "2021-07-01", "period": "monthly", "price_change_rent": 0.066, "price_change_sale": 0.0433, "property_month": 7, "property_year": 2021, "trend_type": "price_trend", "trend_value": 8331, "unit_price_for_rent": 25.37, "unit_price_for_sale": 8331, "yield": 3.6543}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 99, "count_for_sale": 240, "date": "2021-08-01", "period": "monthly", "price_change_rent": 0.0741, "price_change_sale": 0.0505, "property_month": 8, "property_year": 2021, "trend_type": "price_trend", "trend_value": 8752, "unit_price_for_rent": 27.25, "unit_price_for_sale": 8752, "yield": 3.7363}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 104, "count_for_sale": 238, "date": "2021-09-01", "period": "monthly", "price_change_rent": 0.0936, "price_change_sale": 0.0636, "property_month": 9, "property_year": 2021, "trend_type": "price_trend", "trend_value": 9309, "unit_price_for_rent": 29.8, "unit_price_for_sale": 9309, "yield": 3.8414}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 108, "count_for_sale": 268, "date": "2021-10-01", "period": "monthly", "price_change_rent": 0.1171, "price_change_sale": 0.0846, "property_month": 10, "property_year": 2021, "trend_type": "price_trend", "trend_value": 10097, "unit_price_for_rent": 33.29, "unit_price_for_sale": 10097, "yield": 3.9564}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 89, "count_for_sale": 243, "date": "2021-11-01", "period": "monthly", "price_change_rent": 0.1343, "price_change_sale": 0.1066, "property_month": 11, "property_year": 2021, "trend_type": "price_trend", "trend_value": 11173, "unit_price_for_rent": 37.76, "unit_price_for_sale": 11173, "yield": 4.0555}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 101, "count_for_sale": 222, "date": "2021-12-01", "period": "monthly", "price_change_rent": 0.1398, "price_change_sale": 0.128, "property_month": 12, "property_year": 2021, "trend_type": "price_trend", "trend_value": 12603, "unit_price_for_rent": 43.04, "unit_price_for_sale": 12603, "yield": 4.0981}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 101, "count_for_sale": 179, "date": "2022-01-01", "period": "monthly", "price_change_rent": 0.1357, "price_change_sale": 0.1441, "property_month": 1, "property_year": 2022, "trend_type": "price_trend", "trend_value": 14419, "unit_price_for_rent": 48.88, "unit_price_for_sale": 14419, "yield": 4.068}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 95, "count_for_sale": 168, "date": "2022-02-01", "period": "monthly", "price_change_rent": 0.1285, "price_change_sale": 0.1499, "property_month": 2, "property_year": 2022, "trend_type": "price_trend", "trend_value": 16581, "unit_price_for_rent": 55.16, "unit_price_for_sale": 16581, "yield": 3.992}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 94, "count_for_sale": 208, "date": "2022-03-01", "period": "monthly", "price_change_rent": 0.1274, "price_change_sale": 0.1461, "property_month": 3, "property_year": 2022, "trend_type": "price_trend", "trend_value": 19004, "unit_price_for_rent": 62.19, "unit_price_for_sale": 19004, "yield": 3.927}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 125, "count_for_sale": 241, "date": "2022-04-01", "period": "monthly", "price_change_rent": 0.1322, "price_change_sale": 0.135, "property_month": 4, "property_year": 2022, "trend_type": "price_trend", "trend_value": 21569, "unit_price_for_rent": 70.41, "unit_price_for_sale": 21569, "yield": 3.9173}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 179, "count_for_sale": 300, "date": "2022-05-01", "period": "monthly", "price_change_rent": 0.1354, "price_change_sale": 0.1179, "property_month": 5, "property_year": 2022, "trend_type": "price_trend", "trend_value": 24113, "unit_price_for_rent": 79.94, "unit_price_for_sale": 24113, "yield": 3.9783}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 207, "count_for_sale": 282, "date": "2022-06-01", "period": "monthly", "price_change_rent": 0.1278, "price_change_sale": 0.0987, "property_month": 6, "property_year": 2022, "trend_type": "price_trend", "trend_value": 26494, "unit_price_for_rent": 90.16, "unit_price_for_sale": 26494, "yield": 4.0836}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 199, "count_for_sale": 291, "date": "2022-07-01", "period": "monthly", "price_change_rent": 0.1094, "price_change_sale": 0.0822, "property_month": 7, "property_year": 2022, "trend_type": "price_trend", "trend_value": 28671, "unit_price_for_rent": 100.02, "unit_price_for_sale": 28671, "yield": 4.1863}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 181, "count_for_sale": 272, "date": "2022-08-01", "period": "monthly", "price_change_rent": 0.0895, "price_change_sale": 0.0726, "property_month": 8, "property_year": 2022, "trend_type": "price_trend", "trend_value": 30753, "unit_price_for_rent": 108.97, "unit_price_for_sale": 30753, "yield": 4.2521}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 203, "count_for_sale": 270, "date": "2022-09-01", "period": "monthly", "price_change_rent": 0.0759, "price_change_sale": 0.0698, "property_month": 9, "property_year": 2022, "trend_type": "price_trend", "trend_value": 32899, "unit_price_for_rent": 117.24, "unit_price_for_sale": 32899, "yield": 4.2764}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 227, "count_for_sale": 268, "date": "2022-10-01", "period": "monthly", "price_change_rent": 0.0685, "price_change_sale": 0.0703, "property_month": 10, "property_year": 2022, "trend_type": "price_trend", "trend_value": 35212, "unit_price_for_rent": 125.27, "unit_price_for_sale": 35212, "yield": 4.2691}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 223, "count_for_sale": 262, "date": "2022-11-01", "period": "monthly", "price_change_rent": 0.0628, "price_change_sale": 0.0718, "property_month": 11, "property_year": 2022, "trend_type": "price_trend", "trend_value": 37739, "unit_price_for_rent": 133.14, "unit_price_for_sale": 37739, "yield": 4.2335}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 182, "count_for_sale": 268, "date": "2022-12-01", "period": "monthly", "price_change_rent": 0.0552, "price_change_sale": 0.0712, "property_month": 12, "property_year": 2022, "trend_type": "price_trend", "trend_value": 40427, "unit_price_for_rent": 140.49, "unit_price_for_sale": 40427, "yield": 4.1702}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 154, "count_for_sale": 270, "date": "2023-01-01", "period": "monthly", "price_change_rent": 0.047, "price_change_sale": 0.0668, "property_month": 1, "property_year": 2023, "trend_type": "price_trend", "trend_value": 43127, "unit_price_for_rent": 147.09, "unit_price_for_sale": 43127, "yield": 4.0927}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 148, "count_for_sale": 268, "date": "2023-02-01", "period": "monthly", "price_change_rent": 0.0405, "price_change_sale": 0.059, "property_month": 2, "property_year": 2023, "trend_type": "price_trend", "trend_value": 45672, "unit_price_for_rent": 153.04, "unit_price_for_sale": 45672, "yield": 4.021}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 156, "count_for_sale": 278, "date": "2023-03-01", "period": "monthly", "price_change_rent": 0.0358, "price_change_sale": 0.0513, "property_month": 3, "property_year": 2023, "trend_type": "price_trend", "trend_value": 48017, "unit_price_for_rent": 158.52, "unit_price_for_sale": 48017, "yield": 3.9616}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 132, "count_for_sale": 225, "date": "2023-04-01", "period": "monthly", "price_change_rent": 0.0322, "price_change_sale": 0.0462, "property_month": 4, "property_year": 2023, "trend_type": "price_trend", "trend_value": 50237, "unit_price_for_rent": 163.63, "unit_price_for_sale": 50237, "yield": 3.9086}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 104, "count_for_sale": 182, "date": "2023-05-01", "period": "monthly", "price_change_rent": 0.0285, "price_change_sale": 0.0422, "property_month": 5, "property_year": 2023, "trend_type": "price_trend", "trend_value": 52358, "unit_price_for_rent": 168.29, "unit_price_for_sale": 52358, "yield": 3.8571}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 112, "count_for_sale": 158, "date": "2023-06-01", "period": "monthly", "price_change_rent": 0.0245, "price_change_sale": 0.0382, "property_month": 6, "property_year": 2023, "trend_type": "price_trend", "trend_value": 54356, "unit_price_for_rent": 172.41, "unit_price_for_sale": 54356, "yield": 3.8062}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 130, "count_for_sale": 176, "date": "2023-07-01", "period": "monthly", "price_change_rent": 0.0205, "price_change_sale": 0.0345, "property_month": 7, "property_year": 2023, "trend_type": "price_trend", "trend_value": 56232, "unit_price_for_rent": 175.95, "unit_price_for_sale": 56232, "yield": 3.7548}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 157, "count_for_sale": 211, "date": "2023-08-01", "period": "monthly", "price_change_rent": 0.017, "price_change_sale": 0.0312, "property_month": 8, "property_year": 2023, "trend_type": "price_trend", "trend_value": 57989, "unit_price_for_rent": 178.94, "unit_price_for_sale": 57989, "yield": 3.7029}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 145, "count_for_sale": 210, "date": "2023-09-01", "period": "monthly", "price_change_rent": 0.0134, "price_change_sale": 0.0279, "property_month": 9, "property_year": 2023, "trend_type": "price_trend", "trend_value": 59608, "unit_price_for_rent": 181.34, "unit_price_for_sale": 59608, "yield": 3.6507}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 156, "count_for_sale": 234, "date": "2023-10-01", "period": "monthly", "price_change_rent": 0.0104, "price_change_sale": 0.0255, "property_month": 10, "property_year": 2023, "trend_type": "price_trend", "trend_value": 61127, "unit_price_for_rent": 183.22, "unit_price_for_sale": 61127, "yield": 3.5968}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 160, "count_for_sale": 233, "date": "2023-11-01", "period": "monthly", "price_change_rent": 0.0102, "price_change_sale": 0.0265, "property_month": 11, "property_year": 2023, "trend_type": "price_trend", "trend_value": 62747, "unit_price_for_rent": 185.08, "unit_price_for_sale": 62747, "yield": 3.5395}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 203, "count_for_sale": 339, "date": "2023-12-01", "period": "monthly", "price_change_rent": -0.006, "price_change_sale": -0.0153, "property_month": 12, "property_year": 2023, "trend_type": "price_trend", "trend_value": 61789, "unit_price_for_rent": 183.97, "unit_price_for_sale": 61789, "yield": 3.5729}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 210, "count_for_sale": 363, "date": "2024-01-01", "period": "monthly", "price_change_rent": -0.0149, "price_change_sale": -0.0249, "property_month": 1, "property_year": 2024, "trend_type": "price_trend", "trend_value": 60250, "unit_price_for_rent": 181.23, "unit_price_for_sale": 60250, "yield": 3.6096}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 218, "count_for_sale": 373, "date": "2024-02-01", "period": "monthly", "price_change_rent": 0.0082, "price_change_sale": -0.0037, "property_month": 2, "property_year": 2024, "trend_type": "price_trend", "trend_value": 60027, "unit_price_for_rent": 182.71, "unit_price_for_sale": 60027, "yield": 3.6526}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 217, "count_for_sale": 373, "date": "2024-03-01", "period": "monthly", "price_change_rent": 0.0095, "price_change_sale": 0.0181, "property_month": 3, "property_year": 2024, "trend_type": "price_trend", "trend_value": 61112, "unit_price_for_rent": 184.44, "unit_price_for_sale": 61112, "yield": 3.6217}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 190, "count_for_sale": 349, "date": "2024-04-01", "period": "monthly", "price_change_rent": 0.0108, "price_change_sale": -0.0219, "property_month": 4, "property_year": 2024, "trend_type": "price_trend", "trend_value": 59775, "unit_price_for_rent": 186.43, "unit_price_for_sale": 59775, "yield": 3.7426}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 173, "count_for_sale": 377, "date": "2024-05-01", "period": "monthly", "price_change_rent": 0.0353, "price_change_sale": 0.0018, "property_month": 5, "property_year": 2024, "trend_type": "price_trend", "trend_value": 59882, "unit_price_for_rent": 193.02, "unit_price_for_sale": 59882, "yield": 3.868}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 149, "count_for_sale": 356, "date": "2024-06-01", "period": "monthly", "price_change_rent": 0.0468, "price_change_sale": 0.0141, "property_month": 6, "property_year": 2024, "trend_type": "price_trend", "trend_value": 60725, "unit_price_for_rent": 202.06, "unit_price_for_sale": 60725, "yield": 3.993}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 154, "count_for_sale": 351, "date": "2024-07-01", "period": "monthly", "price_change_rent": 0.0435, "price_change_sale": 0.0286, "property_month": 7, "property_year": 2024, "trend_type": "price_trend", "trend_value": 62463, "unit_price_for_rent": 210.85, "unit_price_for_sale": 62463, "yield": 4.0507}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 157, "count_for_sale": 324, "date": "2024-08-01", "period": "monthly", "price_change_rent": 0.0609, "price_change_sale": 0.003, "property_month": 8, "property_year": 2024, "trend_type": "price_trend", "trend_value": 62652, "unit_price_for_rent": 223.69, "unit_price_for_sale": 62652, "yield": 4.2844}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 150, "count_for_sale": 319, "date": "2024-09-01", "period": "monthly", "price_change_rent": 0.0483, "price_change_sale": 0.0118, "property_month": 9, "property_year": 2024, "trend_type": "price_trend", "trend_value": 63394, "unit_price_for_rent": 234.49, "unit_price_for_sale": 63394, "yield": 4.4387}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 144, "count_for_sale": 303, "date": "2024-10-01", "period": "monthly", "price_change_rent": 0.0481, "price_change_sale": 0.0049, "property_month": 10, "property_year": 2024, "trend_type": "price_trend", "trend_value": 63707, "unit_price_for_rent": 245.76, "unit_price_for_sale": 63707, "yield": 4.6292}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 153, "count_for_sale": 315, "date": "2024-11-01", "period": "monthly", "price_change_rent": 0.0317, "price_change_sale": 0.0084, "property_month": 11, "property_year": 2024, "trend_type": "price_trend", "trend_value": 64239, "unit_price_for_rent": 253.56, "unit_price_for_sale": 64239, "yield": 4.7366}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 160, "count_for_sale": 284, "date": "2024-12-01", "period": "monthly", "price_change_rent": 0.028, "price_change_sale": 0.0128, "property_month": 12, "property_year": 2024, "trend_type": "price_trend", "trend_value": 65059, "unit_price_for_rent": 260.66, "unit_price_for_sale": 65059, "yield": 4.8078}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 136, "count_for_sale": 267, "date": "2025-01-01", "period": "monthly", "price_change_rent": 0.028, "price_change_sale": 0.0488, "property_month": 1, "property_year": 2025, "trend_type": "price_trend", "trend_value": 68233, "unit_price_for_rent": 267.96, "unit_price_for_sale": 68233, "yield": 4.7126}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 124, "count_for_sale": 295, "date": "2025-02-01", "period": "monthly", "price_change_rent": 0.0334, "price_change_sale": 0.0594, "property_month": 2, "property_year": 2025, "trend_type": "price_trend", "trend_value": 72289, "unit_price_for_rent": 276.91, "unit_price_for_sale": 72289, "yield": 4.5967}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 104, "count_for_sale": 283, "date": "2025-03-01", "period": "monthly", "price_change_rent": 0.0122, "price_change_sale": 0.0211, "property_month": 3, "property_year": 2025, "trend_type": "price_trend", "trend_value": 73815, "unit_price_for_rent": 280.28, "unit_price_for_sale": 73815, "yield": 4.5565}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 106, "count_for_sale": 291, "date": "2025-04-01", "period": "monthly", "price_change_rent": 0.0277, "price_change_sale": 0.0467, "property_month": 4, "property_year": 2025, "trend_type": "price_trend", "trend_value": 77263, "unit_price_for_rent": 288.04, "unit_price_for_sale": 77263, "yield": 4.4737}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 116, "count_for_sale": 294, "date": "2025-05-01", "period": "monthly", "price_change_rent": 0.0389, "price_change_sale": 0.0461, "property_month": 5, "property_year": 2025, "trend_type": "price_trend", "trend_value": 80821, "unit_price_for_rent": 299.24, "unit_price_for_sale": 80821, "yield": 4.443}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": 123, "count_for_sale": 291, "date": "2025-06-01", "period": "monthly", "price_change_rent": 0.0388, "price_change_sale": 0.0315, "property_month": 6, "property_year": 2025, "trend_type": "price_trend", "trend_value": 83363, "unit_price_for_rent": 310.85, "unit_price_for_sale": 83363, "yield": 4.4746}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": null, "count_for_sale": null, "date": "2025-07-01", "period": "monthly", "price_change_rent": 0.0325, "price_change_sale": 0.0071, "property_month": 7, "property_year": 2025, "trend_type": "price_trend", "trend_value": 83956, "unit_price_for_rent": 320.96, "unit_price_for_sale": 83956, "yield": 4.5875}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": null, "count_for_sale": null, "date": "2025-08-01", "period": "monthly", "price_change_rent": 0.0353, "price_change_sale": 0.0074, "property_month": 8, "property_year": 2025, "trend_type": "price_trend", "trend_value": 84577, "unit_price_for_rent": 332.3, "unit_price_for_sale": 84577, "yield": 4.7148}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": null, "count_for_sale": null, "date": "2025-09-01", "period": "monthly", "price_change_rent": 0.0232, "price_change_sale": 0.0111, "property_month": 9, "property_year": 2025, "trend_type": "price_trend", "trend_value": 85515, "unit_price_for_rent": 340.02, "unit_price_for_sale": 85515, "yield": 4.7714}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": null, "count_for_sale": null, "date": "2025-10-01", "period": "monthly", "price_change_rent": 0.0231, "price_change_sale": 0.0101, "property_month": 10, "property_year": 2025, "trend_type": "price_trend", "trend_value": 86381, "unit_price_for_rent": 347.89, "unit_price_for_sale": 86381, "yield": 4.8329}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": null, "count_for_sale": null, "date": "2025-11-01", "period": "monthly", "price_change_rent": 0.017, "price_change_sale": 0.0117, "property_month": 11, "property_year": 2025, "trend_type": "price_trend", "trend_value": 87395, "unit_price_for_rent": 353.82, "unit_price_for_sale": 87395, "yield": 4.8582}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": null, "count_for_sale": null, "date": "2025-12-01", "period": "monthly", "price_change_rent": 0.0135, "price_change_sale": 0.0073, "property_month": 12, "property_year": 2025, "trend_type": "price_trend", "trend_value": 88032, "unit_price_for_rent": 358.61, "unit_price_for_sale": 88032, "yield": 4.8884}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": null, "count_for_sale": null, "date": "2026-01-01", "period": "monthly", "price_change_rent": 0.0124, "price_change_sale": 0.0131, "property_month": 1, "property_year": 2026, "trend_type": "price_trend", "trend_value": 89184, "unit_price_for_rent": 363.05, "unit_price_for_sale": 89184, "yield": 4.885}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": null, "count_for_sale": null, "date": "2026-02-01", "period": "monthly", "price_change_rent": 0.0175, "price_change_sale": 0.0184, "property_month": 2, "property_year": 2026, "trend_type": "price_trend", "trend_value": 90821, "unit_price_for_rent": 369.4, "unit_price_for_sale": 90821, "yield": 4.8808}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": null, "count_for_sale": null, "date": "2026-03-01", "period": "monthly", "price_change_rent": 0.0088, "price_change_sale": 0.0138, "property_month": 3, "property_year": 2026, "trend_type": "price_trend", "trend_value": 92074, "unit_price_for_rent": 372.64, "unit_price_for_sale": 92074, "yield": 4.8566}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": null, "count_for_sale": null, "date": "2026-04-01", "period": "monthly", "price_change_rent": 0.0156, "price_change_sale": 0.0138, "property_month": 4, "property_year": 2026, "trend_type": "price_trend", "trend_value": 93342, "unit_price_for_rent": 378.45, "unit_price_for_sale": 93342, "yield": 4.8653}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": null, "count_for_sale": null, "date": "2026-05-01", "period": "monthly", "price_change_rent": 0.0236, "price_change_sale": 0.0167, "property_month": 5, "property_year": 2026, "trend_type": "price_trend", "trend_value": 94899, "unit_price_for_rent": 387.37, "unit_price_for_sale": 94899, "yield": 4.8983}, {"annual_price_change_rent": null, "annual_price_change_sale": null, "count_for_rent": null, "count_for_sale": null, "date": "2026-06-01", "period": "monthly", "price_change_rent": 0.0251, "price_change_sale": 0.0149, "property_month": 6, "property_year": 2026, "trend_type": "price_trend", "trend_value": 96309, "unit_price_for_rent": 397.1, "unit_price_for_sale": 96309, "yield": 4.9478}];
        const marketData = {"age_data": [{"average_age_for_rent": 13, "average_age_for_sale": 13, "city_id": 7, "comparable_area_for_rent": 150, "comparable_area_for_sale": 160, "count_for_rent": 58, "count_for_sale": 146, "country_id": 1, "county_id": 2038, "created_at": "2025-08-04T10:43:54.931691+00:00", "district_id": 2351, "id": 1995, "listing_period_for_rent": 30, "listing_period_for_sale": 90, "listing_type": "11-15", "max_unit_price_for_rent": 386.23, "max_unit_price_for_sale": 95754, "min_unit_price_for_rent": 214.05, "min_unit_price_for_sale": 47602, "price_for_rent": 41079, "price_for_sale": 10629120, "source_file": "api_data_CityId=7_CountyId=2038_DistrictId=2351.json", "stock_ratio_rent": 0, "stock_ratio_sale": 0, "trend_date": "2025-06-01", "unit_price_for_rent": 273.86, "unit_price_for_sale": 66432, "updated_at": "2025-08-04T10:43:54.931691+00:00", "yield": 4.95}], "floor_segment_data": [{"average_age_for_rent": 13, "average_age_for_sale": 10, "city_id": 7, "comparable_area_for_rent": 160, "comparable_area_for_sale": 152, "count_for_rent": 83, "count_for_sale": 168, "country_id": 1, "county_id": 2038, "created_at": "2025-08-04T10:44:03.479789+00:00", "district_id": 2351, "id": 1988, "listing_period_for_rent": 32, "listing_period_for_sale": 80, "listing_type": "Ara Kat", "max_unit_price_for_rent": 500, "max_unit_price_for_sale": 127583, "min_unit_price_for_rent": 205.95, "min_unit_price_for_sale": 50538, "price_for_rent": 48000, "price_for_sale": 12518872, "source_file": "api_data_CityId=7_CountyId=2038_DistrictId=2351.json", "stock_ratio_rent": 0, "stock_ratio_sale": 0, "trend_date": "2025-06-01", "unit_price_for_rent": 300, "unit_price_for_sale": 82361, "updated_at": "2025-08-04T10:44:03.479789+00:00", "yield": 4.37}], "general_data": [{"average_age_for_rent": 8, "average_age_for_sale": 8, "city_id": 7, "comparable_area_for_rent": 151, "comparable_area_for_sale": 158, "count_for_rent": 123, "count_for_sale": 291, "country_id": 1, "county_id": 2038, "created_at": "2025-08-04T10:43:58.582266+00:00", "district_id": 2351, "id": 1060, "listing_period_for_rent": 32, "listing_period_for_sale": 76, "listing_type": null, "max_unit_price_for_rent": 488.12, "max_unit_price_for_sale": 126157, "min_unit_price_for_rent": 218.73, "min_unit_price_for_sale": 49978, "price_change_rent": null, "price_change_sale": null, "price_for_rent": 46938, "price_for_sale": 13171354, "property_count": null, "source_file": "api_data_CityId=7_CountyId=2038_DistrictId=2351.json", "stock_change_rent": null, "stock_change_sale": null, "stock_ratio_rent": 0.02, "stock_ratio_sale": 0.04, "trend_date": "2025-06-01", "unit_price_for_rent": 310.85, "unit_price_for_sale": 83363, "updated_at": "2025-08-04T10:43:58.582266+00:00", "yield": 4.47}], "heating_data": [{"average_age_for_rent": 8, "average_age_for_sale": 9, "city_id": 7, "comparable_area_for_rent": 160, "comparable_area_for_sale": 160, "count_for_rent": 129, "count_for_sale": 323, "country_id": 1, "county_id": 2038, "created_at": "2025-08-04T10:43:52.082789+00:00", "district_id": 2351, "id": 1455, "listing_period_for_rent": 32, "listing_period_for_sale": 76, "listing_type": "Do\u011falgaz Kombi", "max_unit_price_for_rent": 481.47, "max_unit_price_for_sale": 116950, "min_unit_price_for_rent": 224.65, "min_unit_price_for_sale": 49417, "price_for_rent": 49230, "price_for_sale": 12509120, "source_file": "api_data_CityId=7_CountyId=2038_DistrictId=2351.json", "stock_ratio_rent": 0, "stock_ratio_sale": 0, "trend_date": "2025-06-01", "unit_price_for_rent": 307.69, "unit_price_for_sale": 78182, "updated_at": "2025-08-04T10:43:52.082789+00:00", "yield": 4.72}], "house_type_data": [{"average_age_for_rent": 8, "average_age_for_sale": 11, "city_id": 7, "comparable_area_for_rent": 160, "comparable_area_for_sale": 160, "count_for_rent": 114, "count_for_sale": 274, "country_id": 1, "county_id": 2038, "created_at": "2025-08-04T10:43:48.737934+00:00", "district_id": 2351, "id": 2473, "listing_period_for_rent": 31, "listing_period_for_sale": 69, "listing_type": "3+1", "max_unit_price_for_rent": 437.5, "max_unit_price_for_sale": 129071, "min_unit_price_for_rent": 206.07, "min_unit_price_for_sale": 48910, "price_for_rent": 45714, "price_for_sale": 12723360, "source_file": "api_data_CityId=7_CountyId=2038_DistrictId=2351.json", "stock_ratio_rent": 0, "stock_ratio_sale": 0, "trend_date": "2025-06-01", "unit_price_for_rent": 285.71, "unit_price_for_sale": 79521, "updated_at": "2025-08-04T10:43:48.737934+00:00", "yield": 4.31}], "success": true};
        let currentChart = null;
        let currentChartType = 'sale';

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadReportContent();
            createTrendsChart(trendsData, 'sale');
        });

        function loadReportContent() {
            // Здесь можно добавить логику для отображения данных отчета
            const contentDiv = document.getElementById('reportContent');
            
            if (marketData && Object.keys(marketData).length > 0) {
                contentDiv.innerHTML = generateMarketDataHTML(marketData);
            } else {
                contentDiv.innerHTML = '<p style="text-align: center; color: #666;">Данные отчета недоступны</p>';
            }
        }

        function generateMarketDataHTML(data) {
            if (!data || !data.general_data || data.general_data.length === 0) {
                return '<p style="text-align: center; color: #666;">Данные отчета недоступны</p>';
            }
            
            const general = data.general_data[0];
            
            // Генерируем HTML для показателей рынка
            let html = '<div class="market-indicators-table">';
            html += '<table class="market-data-table">';
            html += '<thead>';
            html += '<tr>';
            html += '<th class="category-header">Продажа</th>';
            html += '<th class="category-header">Аренда</th>';
            html += '</tr>';
            html += '</thead>';
            html += '<tbody>';
            
            // Сопоставимая площадь
            html += '<tr>';
            html += '<td class="data-cell">';
            html += '<div class="cell-label">Сопоставимая площадь:</div>';
            html += '<div class="cell-value">' + (general.comparable_area_for_sale || '-') + ' м²</div>';
            html += '</td>';
            html += '<td class="data-cell">';
            html += '<div class="cell-label">Сопоставимая площадь:</div>';
            html += '<div class="cell-value">' + (general.comparable_area_for_rent || '-') + ' м²</div>';
            html += '</td>';
            html += '</tr>';
            
            // Цена за м²
            html += '<tr>';
            html += '<td class="data-cell">';
            html += '<div class="cell-label">Цена за м²:</div>';
            html += '<div class="cell-value">' + (general.unit_price_for_sale ? '₺' + general.unit_price_for_sale.toLocaleString('ru-RU') : '-') + '</div>';
            html += '</td>';
            html += '<td class="data-cell">';
            html += '<div class="cell-label">Цена за м²:</div>';
            html += '<div class="cell-value">' + (general.unit_price_for_rent ? '₺' + general.unit_price_for_rent.toLocaleString('ru-RU') : '-') + '</div>';
            html += '</td>';
            html += '</tr>';
            
            // Количество объявлений
            html += '<tr>';
            html += '<td class="data-cell">';
            html += '<div class="cell-label">Количество объявлений:</div>';
            html += '<div class="cell-value">' + (general.count_for_sale || '-') + '</div>';
            html += '</td>';
            html += '<td class="data-cell">';
            html += '<div class="cell-label">Количество объявлений:</div>';
            html += '<div class="cell-value">' + (general.count_for_rent || '-') + '</div>';
            html += '</td>';
            html += '</tr>';
            
            // Средний возраст
            html += '<tr>';
            html += '<td class="data-cell">';
            html += '<div class="cell-label">Средний возраст:</div>';
            html += '<div class="cell-value">' + (general.average_age_for_sale || '-') + ' лет</div>';
            html += '</td>';
            html += '<td class="data-cell">';
            html += '<div class="cell-label">Средний возраст:</div>';
            html += '<div class="cell-value">' + (general.average_age_for_rent || '-') + ' лет</div>';
            html += '</td>';
            html += '</tr>';
            
            // Период листинга
            html += '<tr>';
            html += '<td class="data-cell">';
            html += '<div class="cell-label">Период листинга:</div>';
            html += '<div class="cell-value">' + (general.listing_period_for_sale || '-') + ' дней</div>';
            html += '</td>';
            html += '<td class="data-cell">';
            html += '<div class="cell-label">Период листинга:</div>';
            html += '<div class="cell-value">' + (general.listing_period_for_rent || '-') + ' дней</div>';
            html += '</td>';
            html += '</tr>';
            
            // Доходность
            if (general.yield) {
                html += '<tr>';
                html += '<td class="data-cell" colspan="2">';
                html += '<div class="cell-label">Доходность:</div>';
                html += '<div class="cell-value">' + general.yield.toFixed(2) + '%</div>';
                html += '</td>';
                html += '</tr>';
            }
            
            html += '</tbody>';
            html += '</table>';
            html += '</div>';
            
            return html;
        }

        function createTrendsChart(trends, type) {
            const ctx = document.getElementById('trendsChart').getContext('2d');
            
            if (currentChart) {
                currentChart.destroy();
            }

            if (!trends || trends.length === 0) {
                return;
            }

            const sortedTrends = trends.sort((a, b) => {
                if (a.property_year !== b.property_year) {
                    return a.property_year - b.property_year;
                }
                return a.property_month - b.property_month;
            });

            const labels = sortedTrends.map(trend => {
                const monthNames = ['янв', 'фев', 'мар', 'апр', 'май', 'июн', 'июл', 'авг', 'сен', 'окт', 'ноя', 'дек'];
                return monthNames[trend.property_month - 1] + ' ' + trend.property_year;
            });

            let data, label, borderColor, backgroundColor;

            if (type === 'sale') {
                data = sortedTrends.map(trend => {
                    return trend.is_price_calculated ? trend.calculated_sale_price : trend.unit_price_for_sale;
                });
                label = 'Цена продажи (₺/м²)';
                borderColor = '#007bff';
                backgroundColor = 'rgba(0, 123, 255, 0.1)';
            } else {
                data = sortedTrends.map(trend => {
                    return trend.is_price_calculated ? trend.calculated_rent_price : trend.unit_price_for_rent;
                });
                label = 'Цена аренды (₺/м²)';
                borderColor = '#28a745';
                backgroundColor = 'rgba(40, 167, 69, 0.1)';
            }

            currentChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: label,
                        data: data,
                        borderColor: borderColor,
                        backgroundColor: backgroundColor,
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: borderColor,
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2,
                        pointRadius: 6,
                        pointHoverRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    aspectRatio: 2,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            grid: {
                                color: 'rgba(0,0,0,0.1)'
                            },
                            ticks: {
                                callback: function(value) {
                                    return '₺' + value.toLocaleString('ru-RU');
                                }
                            }
                        },
                        x: {
                            grid: {
                                color: 'rgba(0,0,0,0.1)'
                            }
                        }
                    },
                    elements: {
                        point: {
                            hoverBackgroundColor: borderColor
                        }
                    }
                }
            });
        }

        function switchChart(type) {
            // Update button states
            document.querySelectorAll('.chart-button').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Update chart
            currentChartType = type;
            createTrendsChart(trendsData, type);
        }
    </script>
</body>
</html>