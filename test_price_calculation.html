<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç —Ä–∞—Å—á–µ—Ç–∞ —Ü–µ–Ω –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        .calculated {
            background-color: #e8f4fd;
        }
        .error {
            background-color: #ffe6e6;
            color: #d00;
        }
        .success {
            background-color: #e6ffe6;
            color: #060;
        }
        .log {
            margin: 20px 0;
            padding: 10px;
            background: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: monospace;
            font-size: 12px;
            max-height: 300px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>–¢–µ—Å—Ç —Ä–∞—Å—á–µ—Ç–∞ —Ü–µ–Ω –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</h1>
        
        <h2>–ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h2>
        <table id="sourceData">
            <thead>
                <tr>
                    <th>–ú–µ—Å—è—Ü</th>
                    <th>–¶–µ–Ω–∞ –ø—Ä–æ–¥–∞–∂–∏ (‚ÇΩ/–º¬≤)</th>
                    <th>–ò–∑–º–µ–Ω–µ–Ω–∏–µ (%)</th>
                    <th>–†–∞—Å—á–µ—Ç–Ω–∞—è —Ü–µ–Ω–∞</th>
                    <th>–ü—Ä–æ–≤–µ—Ä–∫–∞</th>
                </tr>
            </thead>
            <tbody>
                <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
            </tbody>
        </table>

        <h2>–õ–æ–≥ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π</h2>
        <div id="log" class="log"></div>
    </div>

    <script>
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
        function log(message) {
            const logDiv = document.getElementById('log');
            logDiv.innerHTML += message + '<br>';
            console.log(message);
        }

        // –§—É–Ω–∫—Ü–∏—è —Ä–∞—Å—á–µ—Ç–∞ –±—É–¥—É—â–µ–π —Ü–µ–Ω—ã
        function calculateFuturePrice(previousPrice, changePercent) {
            // changePercent —É–∂–µ –≤ –¥–µ—Å—è—Ç–∏—á–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 0.0447 –¥–ª—è 4.47%)
            return previousPrice * (1 + changePercent);
        }

        // –î–∞–Ω–Ω—ã–µ –∏–∑ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞
        const trendsData = [
            { month: '—Å–µ–Ω. 2025', price: 50836.00, change: 0.0130, changeStr: '+1.30%' },
            { month: '–∞–≤–≥. 2025', price: 53190.02, change: 0.0447, changeStr: '+4.47%' },
            { month: '–∏—é–ª. 2025', price: 50933.66, change: 0.0443, changeStr: '+4.43%' },
            { month: '–∏—é–Ω. 2025', price: 49097.42, change: 0.0374, changeStr: '+3.74%' },
            { month: '–º–∞–π. 2025', price: 47519.76, change: 0.0332, changeStr: '+3.32%' },
            { month: '–∞–ø—Ä. 2025', price: 46478.64, change: 0.0224, changeStr: '+2.24%' },
            { month: '–º–∞—Ä. 2025', price: 45836.92, change: 0.0140, changeStr: '+1.40%' },
            { month: '—Ñ–µ–≤. 2025', price: 45882.81, change: -0.0010, changeStr: '-0.10%' },
            { month: '—è–Ω–≤. 2025', price: 46131.92, change: -0.0054, changeStr: '-0.54%' },
            { month: '–¥–µ–∫. 2024', price: 47193.78, change: -0.0225, changeStr: '-2.25%' }
        ];

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞—Å—á–µ—Ç—ã
        const tbody = document.querySelector('#sourceData tbody');
        
        for (let i = 0; i < trendsData.length - 1; i++) {
            const current = trendsData[i];
            const previous = trendsData[i + 1];
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Ü–µ–Ω—É —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—è—Ü–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ
            const calculatedPrice = calculateFuturePrice(previous.price, current.change);
            const difference = Math.abs(calculatedPrice - current.price);
            const isCorrect = difference < 1; // –î–æ–ø—É—Å—Ç–∏–º–∞—è –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç—å 1 —Ä—É–±–ª—å
            
            const row = document.createElement('tr');
            row.className = isCorrect ? 'success' : 'error';
            
            row.innerHTML = `
                <td>${current.month}</td>
                <td>${current.price.toFixed(2)}</td>
                <td>${current.changeStr}</td>
                <td>${calculatedPrice.toFixed(2)}</td>
                <td>${isCorrect ? '‚úì –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ' : `‚úó –û—à–∏–±–∫–∞: ${difference.toFixed(2)}`}</td>
            `;
            
            tbody.appendChild(row);
            
            // –õ–æ–≥–∏—Ä—É–µ–º –¥–µ—Ç–∞–ª–∏
            if (!isCorrect) {
                log(`‚ùå ${current.month}: ${previous.price.toFixed(2)} √ó (1 + ${current.change}) = ${calculatedPrice.toFixed(2)}, –æ–∂–∏–¥–∞–ª–æ—Å—å ${current.price.toFixed(2)}`);
            } else {
                log(`‚úÖ ${current.month}: —Ä–∞—Å—á–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω`);
            }
        }
        
        // –î–æ–±–∞–≤–ª—è–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–µ—Å—è—Ü –±–µ–∑ —Ä–∞—Å—á–µ—Ç–∞
        const last = trendsData[trendsData.length - 1];
        const lastRow = document.createElement('tr');
        lastRow.innerHTML = `
            <td>${last.month}</td>
            <td>${last.price.toFixed(2)}</td>
            <td>${last.changeStr}</td>
            <td>-</td>
            <td>–ë–∞–∑–æ–≤—ã–π –º–µ—Å—è—Ü</td>
        `;
        tbody.appendChild(lastRow);
        
        // –û—Å–æ–±–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª—è –∞–≤–≥—É—Å—Ç–∞ 2025
        log('\nüìä –î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤–≥—É—Å—Ç–∞ 2025:');
        log(`–ò—é–ª—å 2025: ‚ÇΩ50,933.66`);
        log(`–ü—Ä–∏—Ä–æ—Å—Ç: +4.47% (0.0447)`);
        log(`–†–∞—Å—á–µ—Ç: 50,933.66 √ó 1.0447 = ${(50933.66 * 1.0447).toFixed(2)}`);
        log(`–í —Ç–∞–±–ª–∏—Ü–µ: ‚ÇΩ53,190.02`);
        log(`–†–∞–∑–Ω–∏—Ü–∞: ${(53190.02 - (50933.66 * 1.0447)).toFixed(2)}`);
    </script>
</body>
</html>