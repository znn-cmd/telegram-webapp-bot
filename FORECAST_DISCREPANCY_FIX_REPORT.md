# üîç –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π –≤ –ø—Ä–æ–≥–Ω–æ–∑–µ

## üìã –ü—Ä–æ–±–ª–µ–º–∞

–û–±–Ω–∞—Ä—É–∂–µ–Ω–æ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –º–µ–∂–¥—É –¥–∞–Ω–Ω—ã–º–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ –ø—Ä–æ–≥–Ω–æ–∑–∞ –∏ –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ –¥–ª—è –∏—é–ª—è 2025 –≥–æ–¥–∞:

- **–¢–∞–±–ª–∏—Ü–∞**: –∏—é–ª—å 2025 - ‚Ç∫50,933.66
- **–ì—Ä–∞—Ñ–∏–∫**: –∏—é–ª—å 2025 - ‚Ç∫48,035.00
- **–†–∞–∑–Ω–∏—Ü–∞**: ‚Ç∫2,898.66

## üîç –ê–Ω–∞–ª–∏–∑ –ø—Ä–∏—á–∏–Ω—ã

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö:

1. **–ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** (`property_trends`):
   - `unit_price_for_sale`: ‚Ç∫48,035.00
   - `unit_price_for_rent`: ‚Ç∫197.06

2. **–ë–∞–∑–æ–≤—ã–µ —Ü–µ–Ω—ã** (–∏–∑ 4 —Ç–∞–±–ª–∏—Ü):
   - `sale_price`: ‚Ç∫50,933.66
   - `rent_price`: ‚Ç∫204.81

### –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞:

1. **–î–ª—è —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—è—Ü–∞** (–∏—é–ª—å 2025):
   - –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –±–∞–∑–æ–≤—ã–µ —Ü–µ–Ω—ã –∏–∑ 4 —Ç–∞–±–ª–∏—Ü
   - `calculated_sale_price` = ‚Ç∫50,933.66
   - `is_price_calculated` = true

2. **–î–ª—è –±—É–¥—É—â–∏—Ö –º–µ—Å—è—Ü–µ–≤**:
   - –ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π —Ä–∞—Å—á–µ—Ç: `–¶–µ–Ω–∞ = –ü—Ä–µ–¥—ã–¥—É—â–∞—è √ó (1 + –ø—Ä–æ—Ü–µ–Ω—Ç_–∏–∑–º–µ–Ω–µ–Ω–∏—è)`

3. **–î–ª—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –º–µ—Å—è—Ü–µ–≤**:
   - –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π —Ä–∞—Å—á–µ—Ç: `–¶–µ–Ω–∞ = –¶–µ–Ω–∞_—Å–ª–µ–¥—É—é—â–µ–≥–æ_–º–µ—Å—è—Ü–∞ √∑ (1 + –ø—Ä–æ—Ü–µ–Ω—Ç_–∏–∑–º–µ–Ω–µ–Ω–∏—è)`

## üõ†Ô∏è –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã—Ö —Ü–µ–Ω

**–ë—ã–ª–æ:**
```javascript
// –¢–∞–±–ª–∏—Ü–∞ –∏ –≥—Ä–∞—Ñ–∏–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Ä–∞–∑–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö
// –¢–∞–±–ª–∏—Ü–∞: calculated_sale_price (‚Ç∫50,933.66)
// –ì—Ä–∞—Ñ–∏–∫: unit_price_for_sale (‚Ç∫48,035.00)
```

**–°—Ç–∞–ª–æ:**
```javascript
// –ò —Ç–∞–±–ª–∏—Ü–∞, –∏ –≥—Ä–∞—Ñ–∏–∫ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¢–û–õ–¨–ö–û —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ —Ü–µ–Ω—ã
// –¢–∞–±–ª–∏—Ü–∞
let salePrice = parseFloat(trend.calculated_sale_price) || 0;

// –ì—Ä–∞—Ñ–∏–∫
const salePrice = parseFloat(trend.calculated_sale_price) || 0;
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `prepareTrendsWithHistoricalPrices()` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ä–∞—Å—á–µ—Ç–∞ —Ü–µ–Ω
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `generateForecastTable()` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü—ã
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `prepareForecastChartData()` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≥—Ä–∞—Ñ–∏–∫–∞

### 3. –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

–î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `validateDataConsistency()` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–µ–π –∏ –≥—Ä–∞—Ñ–∏–∫–æ–º.

### 4. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–∞–Ω–Ω—ã—Ö

–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —á–µ—Ç–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:
1. `calculated_sale_price` / `calculated_rent_price` (—Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ —Ü–µ–Ω—ã)
2. `unit_price_for_sale` / `unit_price_for_rent` (–∏—Å—Ö–æ–¥–Ω—ã–µ —Ü–µ–Ω—ã)

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

–ü–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

‚úÖ **–¢–∞–±–ª–∏—Ü–∞ –∏ –≥—Ä–∞—Ñ–∏–∫ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¢–û–õ–¨–ö–û —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ —Ü–µ–Ω—ã**  
‚úÖ **–£—Å—Ç—Ä–∞–Ω–µ–Ω—ã —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –≤ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ —Ü–µ–Ω**  
‚úÖ **–£–±—Ä–∞–Ω—ã fallback –Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã–µ —Ü–µ–Ω—ã**  
‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏**  
‚úÖ **–£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏**  
‚úÖ **–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–µ–π –∏ –≥—Ä–∞—Ñ–∏–∫–æ–º**

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `webapp_object_evaluation.html` - –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–æ–≥–Ω–æ–∑–∞

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- `prepareForecastChartData()` - –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–∞ (—Ç–æ–ª—å–∫–æ calculated_*_price)
- `generateForecastTable()` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–æ–≥–Ω–æ–∑–∞ (—Ç–æ–ª—å–∫–æ calculated_*_price)
- `validateDataConsistency()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (–æ–±–Ω–æ–≤–ª–µ–Ω–∞)
- `prepareTrendsWithHistoricalPrices()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã—Ö —Ü–µ–Ω

### –î–æ–±–∞–≤–ª–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –†–∞—Å—á–µ—Ç —Ü–µ–Ω –≤ `prepareTrendsWithHistoricalPrices()`
- –î–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –≤ `generateForecastTable()`
- –î–∞–Ω–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∞ –≤ `prepareForecastChartData()`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –≤ `validateDataConsistency()`
- **–ù–æ–≤–æ–µ**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã—Ö —Ü–µ–Ω

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª `test_forecast_discrepancy_debug.html` –¥–ª—è:
- –°–∏–º—É–ª—è—Ü–∏–∏ –ª–æ–≥–∏–∫–∏ —Ä–∞—Å—á–µ—Ç–∞ —Ü–µ–Ω
- –ê–Ω–∞–ª–∏–∑–∞ –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- –û—Ç–ª–∞–¥–∫–∏ –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π

## üìà –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –Ω–∞–±–æ—Ä–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
3. **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `validateDataConsistency()` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ –ª–æ–≥–∏–∫–µ —Ä–∞—Å—á–µ—Ç–∞ —Ü–µ–Ω
5. **–ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞**: –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ —Ç—Ä–µ–Ω–¥—ã –∏–º–µ—é—Ç —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ —Ü–µ–Ω—ã

## ‚úÖ –°—Ç–∞—Ç—É—Å

**–ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê** - –†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–µ–π –∏ –≥—Ä–∞—Ñ–∏–∫–æ–º —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã –ø—É—Ç–µ–º –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–æ–ª—å–∫–æ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã—Ö —Ü–µ–Ω (`calculated_sale_price`, `calculated_rent_price`).

## üîí –ì–∞—Ä–∞–Ω—Ç–∏–∏

- **100% —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–µ–π –∏ –≥—Ä–∞—Ñ–∏–∫–æ–º
- **–ò–¥–µ–Ω—Ç–∏—á–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö** –¥–ª—è –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã—Ö —Ü–µ–Ω
- **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ fallback** –Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã–µ —Ü–µ–Ω—ã
