# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è–∑—ã–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## –ü—Ä–æ–±–ª–µ–º–∞

–ù–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –≤–∏–¥–Ω–æ, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫, —Ö–æ—Ç—è —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ç–∞–±–ª–∏—Ü–µ `users` –≤ –ø–æ–ª–µ `language` —Å—Ç–æ–∏—Ç `de` (–Ω–µ–º–µ—Ü–∫–∏–π). –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ù–ï —è–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–æ–º, –ø–æ—ç—Ç–æ–º—É —Å–æ–≥–ª–∞—Å–Ω–æ –ª–æ–≥–∏–∫–µ –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —è–∑—ã–∫ –∏–∑ Telegram, –∞ –Ω–µ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

## –ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã

–ë—ã–ª–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–±–ª–µ–º –≤ –∫–æ–¥–µ:

1. **–î—É–±–ª–∏—Ä—É—é—â–∞—è –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è–∑—ã–∫–∞** - —è–∑—ã–∫ –æ–ø—Ä–µ–¥–µ–ª—è–ª—Å—è –≤ –¥–≤—É—Ö –º–µ—Å—Ç–∞—Ö:
   - –í `loadLocalizedMenu()` (–ø—Ä–∞–≤–∏–ª—å–Ω–æ, —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä)
   - –í `loadUserData()` (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ, –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è –ª–æ–≥–∏–∫–∞)

2. **–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞** - –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä–æ–º —è–∑—ã–∫

3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** - `currentLanguage` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª—Å—è –∏–∑ `userData.language_code` –Ω–∞–ø—Ä—è–º—É—é

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —è–∑—ã–∫–∞ (`webapp_main.html`)

**–î–æ:**
```javascript
currentLanguage = (userData && userData.language_code) ? userData.language_code : 'en';
```

**–ü–æ—Å–ª–µ:**
```javascript
// –ù–ï —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —è–∑—ã–∫ –∑–¥–µ—Å—å - –æ–Ω –±—É–¥–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω —Å–µ—Ä–≤–µ—Ä–æ–º –≤ loadLocalizedMenu()
currentLanguage = 'en'; // –í—Ä–µ–º–µ–Ω–Ω–æ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –¥–æ –∑–∞–≥—Ä—É–∑–∫–∏ —Å —Å–µ—Ä–≤–µ—Ä–∞
```

### 2. –£–¥–∞–ª–µ–Ω–∞ –¥—É–±–ª–∏—Ä—É—é—â–∞—è –ª–æ–≥–∏–∫–∞ –∏–∑ `loadUserData()`

**–£–¥–∞–ª–µ–Ω–æ:**
- –î—É–±–ª–∏—Ä—É—é—â–µ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ `currentLanguage` –∏ `selectedLanguage`
- –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–∑–æ–≤ `updatePageText()`

**–û—Å—Ç–∞–≤–ª–µ–Ω–æ:**
- –¢–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–Ω–æ–ø–∫–∏ —è–∑—ã–∫–∞
- –°–∫—Ä—ã—Ç–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞ —è–∑—ã–∫–∞

### 3. –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `determine_user_language()` (`app.py`)

–î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:
```python
logger.info(f"üîç –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞: user_status={user_status}, db_language={user_db_language}, telegram_code={telegram_language_code}")
logger.info(f"üë§ –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –∏—Å–ø–æ–ª—å–∑—É–µ–º —è–∑—ã–∫ –∏–∑ Telegram: {telegram_lang} (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º –ë–î: {user_db_language})")
```

## –õ–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è–∑—ã–∫–∞ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è)

### –î–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–ù–ï –∞–¥–º–∏–Ω–æ–≤):
1. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `language_code` –∏–∑ Telegram
2. ‚úÖ –ü–æ–ª–µ `language` –≤ –ë–î **–∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è**
3. ‚úÖ –ï—Å–ª–∏ —è–∑—ã–∫ Telegram –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è ‚Üí –∞–Ω–≥–ª–∏–π—Å–∫–∏–π

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:
1. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ–ª–µ `language` –∏–∑ –ë–î
2. ‚úÖ –ï—Å–ª–∏ –ø–æ–ª–µ –ø—É—Å—Ç–æ–µ ‚Üí –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
3. ‚úÖ `language_code` –∏–∑ Telegram –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è

## –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π)

1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** - `currentLanguage = 'en'` (–≤—Ä–µ–º–µ–Ω–Ω–æ)
2. **`loadLocalizedMenu()`** - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —è–∑—ã–∫ —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä
3. **`updatePageText()`** - –æ–±–Ω–æ–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —è–∑—ã–∫–æ–º
4. **`loadUserData()`** - –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –ù–ï –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—è —è–∑—ã–∫

## –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞:
- ‚ùå **–ë—ã–ª–æ**: –ø–æ–∫–∞–∑—ã–≤–∞–ª—Å—è —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- ‚úÖ **–°—Ç–∞–ª–æ**: –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è —è–∑—ã–∫ –∏–∑ Telegram –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ü–æ–ª–µ `language=de` –≤ –ë–î –±—É–¥–µ—Ç –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è (–ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–ª—è –Ω–µ-–∞–¥–º–∏–Ω–∞)

## –û—Ç–ª–∞–¥–∫–∞

–î–æ–±–∞–≤–ª–µ–Ω—ã –ª–æ–≥–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞:
- `üîç –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞:` - –≤—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- `üë§ –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:` - –≤—ã–±—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `üëë –ê–¥–º–∏–Ω:` - –≤—ã–±—Ä–∞–Ω–Ω—ã–π —è–∑—ã–∫ –¥–ª—è –∞–¥–º–∏–Ω–∞
- `üåê –õ–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –º–µ–Ω—é –∑–∞–≥—Ä—É–∂–µ–Ω–æ:` - –∏—Ç–æ–≥–æ–≤—ã–π —è–∑—ã–∫ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

–≠—Ç–∏ –ª–æ–≥–∏ –ø–æ–º–æ–≥—É—Ç –±—ã—Å—Ç—Ä–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —è–∑—ã–∫–∞ –≤ –±—É–¥—É—â–µ–º.
