<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aaadviser - <span data-i18n="reports.property_evaluation">–û—Ü–µ–Ω–∫–∞ –æ–±—ä–µ–∫—Ç–∞</span></title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="design-system.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            min-height: 100vh;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px 0;
            border-bottom: 2px solid #f0f0f0;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 8px;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .logo:hover {
            transform: scale(1.05);
        }

        .slogan {
            font-size: 14px;
            color: #666;
            font-style: italic;
        }

        .form-section {
            margin-bottom: 25px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #495057;
            font-size: 14px;
        }

        .form-input, .form-select {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: white;
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .btn {
            width: 100%;
            padding: 14px 20px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 15px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .btn-primary:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #545b62;
        }

        .loading {
            text-align: center;
            padding: 20px;
            color: #667eea;
        }

        .error {
            background: #f8d7da;
            color: #721c24;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid #f5c6cb;
        }

        .success {
            background: #d4edda;
            color: #155724;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid #c3e6cb;
        }

        .report-section {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
            border: 1px solid #e9ecef;
        }

        .report-title {
            font-size: 18px;
            font-weight: bold;
            color: #495057;
            margin-bottom: 20px;
            text-align: center;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }

        .report-content {
            margin-bottom: 20px;
        }

        .language-selection-section {
            background: #e8f4fd;
            border: 2px solid #667eea;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            display: none;
        }

        .language-selection-title {
            font-size: 16px;
            font-weight: 600;
            color: #495057;
            margin-bottom: 15px;
            text-align: center;
        }

        .language-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }

        .lang-btn {
            padding: 8px 12px;
            border: 2px solid #667eea;
            border-radius: 8px;
            background: white;
            color: #667eea;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            min-width: 60px;
        }

        .lang-btn:hover {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
        }

        .lang-btn.active {
            background: #667eea;
            color: white;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
        }

        .save-section {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .btn-save {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            font-weight: 600;
        }

        .btn-save:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
        }

        .back-btn {
            background: #6c757d;
            color: white;
            margin-top: 10px;
        }

        .back-btn:hover {
            background: #545b62;
        }

        .hidden {
            display: none;
        }

        .table-container {
            margin: 20px 0;
            overflow-x: auto;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .data-table th {
            background: #667eea;
            color: white;
            padding: 12px 8px;
            text-align: center;
            font-weight: 600;
            font-size: 12px;
        }

        .data-table td {
            padding: 10px 8px;
            text-align: center;
            border-bottom: 1px solid #e9ecef;
            font-size: 12px;
        }

        .data-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .data-table tr:hover {
            background: #e3f2fd;
        }

        .consolidated-assessment {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
            border-left: 4px solid #667eea;
        }

        .assessment-title {
            font-size: 16px;
            font-weight: 600;
            color: #495057;
            margin-bottom: 15px;
            text-align: center;
        }

        .assessment-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #e9ecef;
        }

        .assessment-item:last-child {
            border-bottom: none;
        }

        .assessment-label {
            font-weight: 500;
            color: #495057;
        }

        .assessment-value {
            font-weight: 600;
            color: #28a745;
        }

        @media (max-width: 480px) {
            .container {
                padding: 15px;
            }
            
            .language-buttons {
                flex-direction: column;
            }
            
            .lang-btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">Aaadviser</div>
            <div class="slogan" data-i18n="reports.property_evaluation">–û—Ü–µ–Ω–∫–∞ –æ–±—ä–µ–∫—Ç–∞</div>
        </div>

        <!-- –§–æ—Ä–º–∞ –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö -->
        <div id="input-form" class="form-section">
            <div class="form-group">
                <label class="form-label" data-i18n="reports.property_address">–ê–¥—Ä–µ—Å –æ–±—ä–µ–∫—Ç–∞</label>
                <input type="text" id="property-address" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å –æ–±—ä–µ–∫—Ç–∞">
            </div>

            <div class="form-group">
                <label class="form-label" data-i18n="reports.property_type">–¢–∏–ø –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</label>
                <select id="property-type" class="form-select">
                    <option value="" data-i18n="common.loading">–ó–∞–≥—Ä—É–∑–∫–∞...</option>
                </select>
            </div>

            <div class="form-group">
                <label class="form-label" data-i18n="reports.property_area">–ü–ª–æ—â–∞–¥—å (–º¬≤)</label>
                <input type="number" id="property-area" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–ª–æ—â–∞–¥—å">
            </div>

            <div class="form-group">
                <label class="form-label" data-i18n="reports.property_price">–¶–µ–Ω–∞</label>
                <input type="number" id="property-price" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ü–µ–Ω—É">
            </div>

            <button id="analyze-btn" class="btn btn-primary" data-i18n="reports.create_report">–°–æ–∑–¥–∞—Ç—å –æ—Ç—á–µ—Ç</button>
        </div>

        <!-- –ó–∞–≥—Ä—É–∑–∫–∞ -->
        <div id="loading" class="loading hidden">
            <div data-i18n="common.loading">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
        </div>

        <!-- –û—à–∏–±–∫–∞ -->
        <div id="error" class="error hidden"></div>

        <!-- –û—Ç—á–µ—Ç -->
        <div id="report-section" class="report-section hidden">
            <div class="report-title" data-i18n="reports.property_evaluation">–û—Ç—á–µ—Ç –ø–æ –æ—Ü–µ–Ω–∫–µ –æ–±—ä–µ–∫—Ç–∞</div>
            
            <div id="report-content" class="report-content">
                <!-- –ó–¥–µ—Å—å –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –æ—Ç—á–µ—Ç–∞ -->
            </div>

            <!-- –í—ã–±–æ—Ä —è–∑—ã–∫–∞ –æ—Ç—á–µ—Ç–∞ -->
            <div id="language-selection" class="language-selection-section">
                <div class="language-selection-title" data-i18n="reports.select_report_language">–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ –æ—Ç—á–µ—Ç–∞ –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º</div>
                
                <div class="language-buttons">
                    <button class="lang-btn" data-lang="ru" onclick="setReportLanguage('ru')">üá∑üá∫ –†—É—Å—Å–∫–∏–π</button>
                    <button class="lang-btn" data-lang="en" onclick="setReportLanguage('en')">üá∫üá∏ English</button>
                    <button class="lang-btn" data-lang="de" onclick="setReportLanguage('de')">üá©üá™ Deutsch</button>
                    <button class="lang-btn" data-lang="fr" onclick="setReportLanguage('fr')">üá´üá∑ Fran√ßais</button>
                    <button class="lang-btn" data-lang="tr" onclick="setReportLanguage('tr')">üáπüá∑ T√ºrk√ße</button>
                </div>

                <div class="save-section">
                    <button id="save-report-btn" class="btn btn-save" data-i18n="reports.save_report">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç—á–µ—Ç</button>
                    <button id="back-to-form-btn" class="btn back-btn" data-i18n="common.back">–ù–∞–∑–∞–¥ –∫ —Ñ–æ—Ä–º–µ</button>
                </div>
            </div>
        </div>
    </div>

    <script src="i18n-manager.js"></script>
    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let currentReportLanguage = 'ru';
        let reportData = null;
        let isReportGenerated = false;

        // –ü–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è –æ—Ç—á–µ—Ç–∞
        const reportTranslations = {
            'ru': {
                'property_evaluation': '–û—Ü–µ–Ω–∫–∞ –æ–±—ä–µ–∫—Ç–∞',
                'property_address': '–ê–¥—Ä–µ—Å –æ–±—ä–µ–∫—Ç–∞',
                'property_type': '–¢–∏–ø –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏',
                'property_area': '–ü–ª–æ—â–∞–¥—å (–º¬≤)',
                'property_price': '–¶–µ–Ω–∞',
                'create_report': '–°–æ–∑–¥–∞—Ç—å –æ—Ç—á–µ—Ç',
                'save_report': '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç—á–µ—Ç',
                'select_report_language': '–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ –æ—Ç—á–µ—Ç–∞ –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º',
                'market_analysis': '–ê–Ω–∞–ª–∏–∑ —Ä—ã–Ω–∫–∞',
                'price_forecast': '–ü—Ä–æ–≥–Ω–æ–∑ —Ü–µ–Ω',
                'investment_recommendations': '–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏',
                'consolidated_assessment': '–ö–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞',
                'unit_price_sale': '–¶–µ–Ω–∞ –∑–∞ –º¬≤ (–ø—Ä–æ–¥–∞–∂–∞)',
                'unit_price_rent': '–¶–µ–Ω–∞ –∑–∞ –º¬≤ (–∞—Ä–µ–Ω–¥–∞)',
                'yield': '–î–æ—Ö–æ–¥–Ω–æ—Å—Ç—å',
                'bedrooms': '–°–ø–∞–ª—å–Ω–∏',
                'floor': '–≠—Ç–∞–∂',
                'age': '–í–æ–∑—Ä–∞—Å—Ç',
                'heating': '–û—Ç–æ–ø–ª–µ–Ω–∏–µ',
                'consolidated_average': '–ö–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ä–µ–¥–Ω—è—è',
                'average_market_price': '–°—Ä–µ–¥–Ω—è—è —Ä—ã–Ω–æ—á–Ω–∞—è —Ü–µ–Ω–∞',
                'one_year_forecast': '–ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ 1 –≥–æ–¥',
                'three_year_forecast': '–ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ 3 –≥–æ–¥–∞',
                'market_comparison': '–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Ä—ã–Ω–∫–æ–º',
                'investment_potential': '–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª',
                'risk_assessment': '–û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–æ–≤',
                'location_analysis': '–ê–Ω–∞–ª–∏–∑ –ª–æ–∫–∞—Ü–∏–∏',
                'property_features': '–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –æ–±—ä–µ–∫—Ç–∞',
                'neighborhood_data': '–î–∞–Ω–Ω—ã–µ –æ —Ä–∞–π–æ–Ω–µ',
                'transport_access': '–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å',
                'infrastructure': '–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞',
                'schools_nearby': '–®–∫–æ–ª—ã –ø–æ–±–ª–∏–∑–æ—Å—Ç–∏',
                'hospitals_nearby': '–ë–æ–ª—å–Ω–∏—Ü—ã –ø–æ–±–ª–∏–∑–æ—Å—Ç–∏',
                'shopping_centers': '–¢–æ—Ä–≥–æ–≤—ã–µ —Ü–µ–Ω—Ç—Ä—ã',
                'parks_recreation': '–ü–∞—Ä–∫–∏ –∏ –æ—Ç–¥—ã—Ö',
                'crime_rate': '–£—Ä–æ–≤–µ–Ω—å –ø—Ä–µ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏',
                'population_density': '–ü–ª–æ—Ç–Ω–æ—Å—Ç—å –Ω–∞—Å–µ–ª–µ–Ω–∏—è',
                'average_income': '–°—Ä–µ–¥–Ω–∏–π –¥–æ—Ö–æ–¥',
                'employment_rate': '–£—Ä–æ–≤–µ–Ω—å –∑–∞–Ω—è—Ç–æ—Å—Ç–∏',
                'property_taxes': '–ù–∞–ª–æ–≥–∏ –Ω–∞ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å',
                'maintenance_costs': '–†–∞—Å—Ö–æ–¥—ã –Ω–∞ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ',
                'utilities': '–ö–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏',
                'insurance_costs': '–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ',
                'legal_fees': '–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—Ö–æ–¥—ã',
                'total_monthly_costs': '–û–±—â–∏–µ –º–µ—Å—è—á–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã',
                'net_yield': '–ß–∏—Å—Ç–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å',
                'gross_yield': '–í–∞–ª–æ–≤–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å',
                'payback_period': '–°—Ä–æ–∫ –æ–∫—É–ø–∞–µ–º–æ—Å—Ç–∏',
                'recommendation': '–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è',
                'buy': '–ü–æ–∫—É–ø–∞—Ç—å',
                'sell': '–ü—Ä–æ–¥–∞–≤–∞—Ç—å',
                'hold': '–î–µ—Ä–∂–∞—Ç—å',
                'avoid': '–ò–∑–±–µ–≥–∞—Ç—å',
                'excellent': '–û—Ç–ª–∏—á–Ω–æ',
                'good': '–•–æ—Ä–æ—à–æ',
                'average': '–°—Ä–µ–¥–Ω–µ',
                'poor': '–ü–ª–æ—Ö–æ',
                'very_poor': '–û—á–µ–Ω—å –ø–ª–æ—Ö–æ',
                'high': '–í—ã—Å–æ–∫–∏–π',
                'medium': '–°—Ä–µ–¥–Ω–∏–π',
                'low': '–ù–∏–∑–∫–∏–π',
                'very_low': '–û—á–µ–Ω—å –Ω–∏–∑–∫–∏–π'
            },
            'en': {
                'property_evaluation': 'Property Evaluation',
                'property_address': 'Property Address',
                'property_type': 'Property Type',
                'property_area': 'Area (m¬≤)',
                'property_price': 'Price',
                'create_report': 'Create Report',
                'save_report': 'Save Report',
                'select_report_language': 'Select report language before saving',
                'market_analysis': 'Market Analysis',
                'price_forecast': 'Price Forecast',
                'investment_recommendations': 'Investment Recommendations',
                'consolidated_assessment': 'Consolidated Assessment',
                'unit_price_sale': 'Price per m¬≤ (sale)',
                'unit_price_rent': 'Price per m¬≤ (rent)',
                'yield': 'Yield',
                'bedrooms': 'Bedrooms',
                'floor': 'Floor',
                'age': 'Age',
                'heating': 'Heating',
                'consolidated_average': 'Consolidated Average',
                'average_market_price': 'Average Market Price',
                'one_year_forecast': '1 Year Forecast',
                'three_year_forecast': '3 Year Forecast',
                'market_comparison': 'Market Comparison',
                'investment_potential': 'Investment Potential',
                'risk_assessment': 'Risk Assessment',
                'location_analysis': 'Location Analysis',
                'property_features': 'Property Features',
                'neighborhood_data': 'Neighborhood Data',
                'transport_access': 'Transport Access',
                'infrastructure': 'Infrastructure',
                'schools_nearby': 'Schools Nearby',
                'hospitals_nearby': 'Hospitals Nearby',
                'shopping_centers': 'Shopping Centers',
                'parks_recreation': 'Parks & Recreation',
                'crime_rate': 'Crime Rate',
                'population_density': 'Population Density',
                'average_income': 'Average Income',
                'employment_rate': 'Employment Rate',
                'property_taxes': 'Property Taxes',
                'maintenance_costs': 'Maintenance Costs',
                'utilities': 'Utilities',
                'insurance_costs': 'Insurance Costs',
                'legal_fees': 'Legal Fees',
                'total_monthly_costs': 'Total Monthly Costs',
                'net_yield': 'Net Yield',
                'gross_yield': 'Gross Yield',
                'payback_period': 'Payback Period',
                'recommendation': 'Recommendation',
                'buy': 'Buy',
                'sell': 'Sell',
                'hold': 'Hold',
                'avoid': 'Avoid',
                'excellent': 'Excellent',
                'good': 'Good',
                'average': 'Average',
                'poor': 'Poor',
                'very_poor': 'Very Poor',
                'high': 'High',
                'medium': 'Medium',
                'low': 'Low',
                'very_low': 'Very Low'
            },
            'de': {
                'property_evaluation': 'Immobilienbewertung',
                'property_address': 'Immobilienadresse',
                'property_type': 'Immobilientyp',
                'property_area': 'Fl√§che (m¬≤)',
                'property_price': 'Preis',
                'create_report': 'Bericht erstellen',
                'save_report': 'Bericht speichern',
                'select_report_language': 'Berichtssprache vor dem Speichern ausw√§hlen',
                'market_analysis': 'Marktanalyse',
                'price_forecast': 'Preisprognose',
                'investment_recommendations': 'Investitionsempfehlungen',
                'consolidated_assessment': 'Konsolidierte Bewertung',
                'unit_price_sale': 'Preis pro m¬≤ (Verkauf)',
                'unit_price_rent': 'Preis pro m¬≤ (Miete)',
                'yield': 'Rendite',
                'bedrooms': 'Schlafzimmer',
                'floor': 'Etage',
                'age': 'Alter',
                'heating': 'Heizung',
                'consolidated_average': 'Konsolidierter Durchschnitt',
                'average_market_price': 'Durchschnittlicher Marktpreis',
                'one_year_forecast': '1-Jahres-Prognose',
                'three_year_forecast': '3-Jahres-Prognose',
                'market_comparison': 'Marktvergleich',
                'investment_potential': 'Investitionspotenzial',
                'risk_assessment': 'Risikobewertung',
                'location_analysis': 'Standortanalyse',
                'property_features': 'Immobilienmerkmale',
                'neighborhood_data': 'Nachbarschaftsdaten',
                'transport_access': 'Verkehrsanbindung',
                'infrastructure': 'Infrastruktur',
                'schools_nearby': 'Schulen in der N√§he',
                'hospitals_nearby': 'Krankenh√§user in der N√§he',
                'shopping_centers': 'Einkaufszentren',
                'parks_recreation': 'Parks & Erholung',
                'crime_rate': 'Kriminalit√§tsrate',
                'population_density': 'Bev√∂lkerungsdichte',
                'average_income': 'Durchschnittseinkommen',
                'employment_rate': 'Besch√§ftigungsquote',
                'property_taxes': 'Grundsteuern',
                'maintenance_costs': 'Instandhaltungskosten',
                'utilities': 'Nebenkosten',
                'insurance_costs': 'Versicherungskosten',
                'legal_fees': 'Rechtskosten',
                'total_monthly_costs': 'Gesamte monatliche Kosten',
                'net_yield': 'Nettorendite',
                'gross_yield': 'Bruttorendite',
                'payback_period': 'Amortisationszeit',
                'recommendation': 'Empfehlung',
                'buy': 'Kaufen',
                'sell': 'Verkaufen',
                'hold': 'Halten',
                'avoid': 'Vermeiden',
                'excellent': 'Ausgezeichnet',
                'good': 'Gut',
                'average': 'Durchschnittlich',
                'poor': 'Schlecht',
                'very_poor': 'Sehr schlecht',
                'high': 'Hoch',
                'medium': 'Mittel',
                'low': 'Niedrig',
                'very_low': 'Sehr niedrig'
            },
            'fr': {
                'property_evaluation': '√âvaluation immobili√®re',
                'property_address': 'Adresse de la propri√©t√©',
                'property_type': 'Type de propri√©t√©',
                'property_area': 'Surface (m¬≤)',
                'property_price': 'Prix',
                'create_report': 'Cr√©er un rapport',
                'save_report': 'Enregistrer le rapport',
                'select_report_language': 'S√©lectionnez la langue du rapport avant de sauvegarder',
                'market_analysis': 'Analyse de march√©',
                'price_forecast': 'Pr√©vision des prix',
                'investment_recommendations': 'Recommandations d\'investissement',
                'consolidated_assessment': '√âvaluation consolid√©e',
                'unit_price_sale': 'Prix par m¬≤ (vente)',
                'unit_price_rent': 'Prix par m¬≤ (location)',
                'yield': 'Rendement',
                'bedrooms': 'Chambres',
                'floor': '√âtage',
                'age': '√Çge',
                'heating': 'Chauffage',
                'consolidated_average': 'Moyenne consolid√©e',
                'average_market_price': 'Prix moyen du march√©',
                'one_year_forecast': 'Pr√©vision 1 an',
                'three_year_forecast': 'Pr√©vision 3 ans',
                'market_comparison': 'Comparaison de march√©',
                'investment_potential': 'Potentiel d\'investissement',
                'risk_assessment': '√âvaluation des risques',
                'location_analysis': 'Analyse de localisation',
                'property_features': 'Caract√©ristiques de la propri√©t√©',
                'neighborhood_data': 'Donn√©es du quartier',
                'transport_access': 'Acc√®s aux transports',
                'infrastructure': 'Infrastructure',
                'schools_nearby': '√âcoles √† proximit√©',
                'hospitals_nearby': 'H√¥pitaux √† proximit√©',
                'shopping_centers': 'Centres commerciaux',
                'parks_recreation': 'Parcs & Loisirs',
                'crime_rate': 'Taux de criminalit√©',
                'population_density': 'Densit√© de population',
                'average_income': 'Revenu moyen',
                'employment_rate': 'Taux d\'emploi',
                'property_taxes': 'Taxes fonci√®res',
                'maintenance_costs': 'Co√ªts d\'entretien',
                'utilities': 'Services publics',
                'insurance_costs': 'Co√ªts d\'assurance',
                'legal_fees': 'Frais juridiques',
                'total_monthly_costs': 'Co√ªts mensuels totaux',
                'net_yield': 'Rendement net',
                'gross_yield': 'Rendement brut',
                'payback_period': 'P√©riode de r√©cup√©ration',
                'recommendation': 'Recommandation',
                'buy': 'Acheter',
                'sell': 'Vendre',
                'hold': 'Conserver',
                'avoid': '√âviter',
                'excellent': 'Excellent',
                'good': 'Bon',
                'average': 'Moyen',
                'poor': 'Mauvais',
                'very_poor': 'Tr√®s mauvais',
                'high': '√âlev√©',
                'medium': 'Moyen',
                'low': 'Faible',
                'very_low': 'Tr√®s faible'
            },
            'tr': {
                'property_evaluation': 'Emlak Deƒüerlendirmesi',
                'property_address': 'Emlak Adresi',
                'property_type': 'Emlak T√ºr√º',
                'property_area': 'Alan (m¬≤)',
                'property_price': 'Fiyat',
                'create_report': 'Rapor Olu≈ütur',
                'save_report': 'Raporu Kaydet',
                'select_report_language': 'Kaydetmeden √∂nce rapor dilini se√ßin',
                'market_analysis': 'Pazar Analizi',
                'price_forecast': 'Fiyat Tahmini',
                'investment_recommendations': 'Yatƒ±rƒ±m √ñnerileri',
                'consolidated_assessment': 'Konsolide Deƒüerlendirme',
                'unit_price_sale': 'm¬≤ Fiyatƒ± (satƒ±≈ü)',
                'unit_price_rent': 'm¬≤ Fiyatƒ± (kira)',
                'yield': 'Getiri',
                'bedrooms': 'Yatak Odasƒ±',
                'floor': 'Kat',
                'age': 'Ya≈ü',
                'heating': 'Isƒ±tma',
                'consolidated_average': 'Konsolide Ortalama',
                'average_market_price': 'Ortalama Piyasa Fiyatƒ±',
                'one_year_forecast': '1 Yƒ±l Tahmini',
                'three_year_forecast': '3 Yƒ±l Tahmini',
                'market_comparison': 'Pazar Kar≈üƒ±la≈ütƒ±rmasƒ±',
                'investment_potential': 'Yatƒ±rƒ±m Potansiyeli',
                'risk_assessment': 'Risk Deƒüerlendirmesi',
                'location_analysis': 'Konum Analizi',
                'property_features': 'Emlak √ñzellikleri',
                'neighborhood_data': 'Mahalle Verileri',
                'transport_access': 'Ula≈üƒ±m Eri≈üimi',
                'infrastructure': 'Altyapƒ±',
                'schools_nearby': 'Yakƒ±ndaki Okullar',
                'hospitals_nearby': 'Yakƒ±ndaki Hastaneler',
                'shopping_centers': 'Alƒ±≈üveri≈ü Merkezleri',
                'parks_recreation': 'Parklar & Rekreasyon',
                'crime_rate': 'Su√ß Oranƒ±',
                'population_density': 'N√ºfus Yoƒüunluƒüu',
                'average_income': 'Ortalama Gelir',
                'employment_rate': 'ƒ∞stihdam Oranƒ±',
                'property_taxes': 'Emlak Vergileri',
                'maintenance_costs': 'Bakƒ±m Maliyetleri',
                'utilities': 'Kamu Hizmetleri',
                'insurance_costs': 'Sigorta Maliyetleri',
                'legal_fees': 'Hukuki √úcretler',
                'total_monthly_costs': 'Toplam Aylƒ±k Maliyetler',
                'net_yield': 'Net Getiri',
                'gross_yield': 'Br√ºt Getiri',
                'payback_period': 'Geri √ñdeme S√ºresi',
                'recommendation': '√ñneri',
                'buy': 'Satƒ±n Al',
                'sell': 'Sat',
                'hold': 'Tut',
                'avoid': 'Ka√ßƒ±n',
                'excellent': 'M√ºkemmel',
                'good': 'ƒ∞yi',
                'average': 'Ortalama',
                'poor': 'K√∂t√º',
                'very_poor': '√áok K√∂t√º',
                'high': 'Y√ºksek',
                'medium': 'Orta',
                'low': 'D√º≈ü√ºk',
                'very_low': '√áok D√º≈ü√ºk'
            }
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            initializePage();
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        async function initializePage() {
            try {
                // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–∏–ø—ã –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
                await loadPropertyTypes();
                
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
                initializeEventHandlers();
                
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ —è–∑—ã–∫–∞
                initializeLanguageButtons();
                
                console.log('–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞');
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:', error);
                showError('–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã');
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–∏–ø–æ–≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏
        async function loadPropertyTypes() {
            try {
                const response = await fetch('/api/property_types');
                if (response.ok) {
                    const types = await response.json();
                    const select = document.getElementById('property-type');
                    select.innerHTML = '<option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏</option>';
                    
                    types.forEach(type => {
                        const option = document.createElement('option');
                        option.value = type.id;
                        option.textContent = type.name;
                        select.appendChild(option);
                    });
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–∏–ø–æ–≤ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç–∏:', error);
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
        function initializeEventHandlers() {
            // –ö–Ω–æ–ø–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç—á–µ—Ç–∞
            document.getElementById('analyze-btn').addEventListener('click', createReport);
            
            // –ö–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ç—á–µ—Ç–∞
            document.getElementById('save-report-btn').addEventListener('click', saveReport);
            
            // –ö–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫ —Ñ–æ—Ä–º–µ
            document.getElementById('back-to-form-btn').addEventListener('click', backToForm);
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞
        async function createReport() {
            const address = document.getElementById('property-address').value.trim();
            const type = document.getElementById('property-type').value;
            const area = document.getElementById('property-area').value;
            const price = document.getElementById('property-price').value;

            // –í–∞–ª–∏–¥–∞—Ü–∏—è
            if (!address || !type || !area || !price) {
                showError('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è');
                return;
            }

            try {
                showLoading(true);
                hideError();

                // –°–∏–º—É–ª—è—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç—á–µ—Ç–∞ (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π API –≤—ã–∑–æ–≤)
                await simulateReportGeneration(address, type, area, price);
                
                showLoading(false);
                showReport();
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç—á–µ—Ç–∞:', error);
                showLoading(false);
                showError('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç—á–µ—Ç–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');
            }
        }

        // –°–∏–º—É–ª—è—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–∞
        async function simulateReportGeneration(address, type, area, price) {
            return new Promise((resolve) => {
                setTimeout(() => {
                    // –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç—á–µ—Ç–∞
                    reportData = {
                        address: address,
                        type: type,
                        area: parseFloat(area),
                        price: parseFloat(price),
                        marketAnalysis: {
                            averagePrice: parseFloat(price) * 0.95,
                            priceRange: {
                                min: parseFloat(price) * 0.85,
                                max: parseFloat(price) * 1.15
                            }
                        },
                        forecast: {
                            oneYear: parseFloat(price) * 1.08,
                            threeYear: parseFloat(price) * 1.25
                        },
                        recommendations: [
                            '–û–±—ä–µ–∫—Ç –∏–º–µ–µ—Ç —Ö–æ—Ä–æ—à–∏–π –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª',
                            '–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∞—Ä–µ–Ω–¥—ã',
                            '–¶–µ–Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä—ã–Ω–æ—á–Ω—ã–º –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º'
                        ]
                    };
                    
                    isReportGenerated = true;
                    resolve();
                }, 2000);
            });
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç—á–µ—Ç
        function showReport() {
            document.getElementById('input-form').classList.add('hidden');
            document.getElementById('report-section').classList.remove('hidden');
            document.getElementById('language-selection').classList.remove('hidden');
            
            generateReportContent();
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –æ—Ç—á–µ—Ç–∞
        function generateReportContent() {
            if (!reportData) return;

            const content = document.getElementById('report-content');
            const translations = reportTranslations[currentReportLanguage];

            content.innerHTML = `
                <div class="consolidated-assessment">
                    <div class="assessment-title">${translations.market_analysis}</div>
                    <div class="assessment-item">
                        <span class="assessment-label">${translations.property_address}:</span>
                        <span class="assessment-value">${reportData.address}</span>
                    </div>
                    <div class="assessment-item">
                        <span class="assessment-label">${translations.property_area}:</span>
                        <span class="assessment-value">${reportData.area} –º¬≤</span>
                    </div>
                    <div class="assessment-item">
                        <span class="assessment-label">${translations.property_price}:</span>
                        <span class="assessment-value">‚Ç∫${reportData.price.toLocaleString()}</span>
                    </div>
                    <div class="assessment-item">
                        <span class="assessment-label">${translations.average_market_price}:</span>
                        <span class="assessment-value">‚Ç∫${reportData.marketAnalysis.averagePrice.toLocaleString()}</span>
                    </div>
                </div>

                <div class="consolidated-assessment">
                    <div class="assessment-title">${translations.price_forecast}</div>
                    <div class="assessment-item">
                        <span class="assessment-label">${translations.one_year_forecast}:</span>
                        <span class="assessment-value">‚Ç∫${reportData.forecast.oneYear.toLocaleString()}</span>
                    </div>
                    <div class="assessment-item">
                        <span class="assessment-label">${translations.three_year_forecast}:</span>
                        <span class="assessment-value">‚Ç∫${reportData.forecast.threeYear.toLocaleString()}</span>
                    </div>
                </div>

                <div class="consolidated-assessment">
                    <div class="assessment-title">${translations.investment_recommendations}</div>
                    ${reportData.recommendations.map(rec => `
                        <div class="assessment-item">
                            <span class="assessment-label">‚Ä¢</span>
                            <span class="assessment-value">${rec}</span>
                        </div>
                    `).join('')}
                </div>

                <div class="consolidated-assessment">
                    <div class="assessment-title">${translations.investment_potential}</div>
                    <div class="assessment-item">
                        <span class="assessment-label">${translations.recommendation}:</span>
                        <span class="assessment-value" style="color: #28a745; font-weight: bold;">${translations.buy}</span>
                    </div>
                    <div class="assessment-item">
                        <span class="assessment-label">${translations.risk_assessment}:</span>
                        <span class="assessment-value" style="color: #ffc107;">${translations.medium}</span>
                    </div>
                    <div class="assessment-item">
                        <span class="assessment-label">${translations.net_yield}:</span>
                        <span class="assessment-value">6.8%</span>
                    </div>
                    <div class="assessment-item">
                        <span class="assessment-label">${translations.payback_period}:</span>
                        <span class="assessment-value">14.7 ${translations.unit_days || '–ª–µ—Ç'}</span>
                    </div>
                </div>

                <div class="consolidated-assessment">
                    <div class="assessment-title">${translations.location_analysis}</div>
                    <div class="assessment-item">
                        <span class="assessment-label">${translations.transport_access}:</span>
                        <span class="assessment-value" style="color: #28a745;">${translations.excellent}</span>
                    </div>
                    <div class="assessment-item">
                        <span class="assessment-label">${translations.infrastructure}:</span>
                        <span class="assessment-value" style="color: #28a745;">${translations.good}</span>
                    </div>
                    <div class="assessment-item">
                        <span class="assessment-label">${translations.schools_nearby}:</span>
                        <span class="assessment-value">3 ${translations.unit_days || '—à–∫–æ–ª—ã'}</span>
                    </div>
                    <div class="assessment-item">
                        <span class="assessment-label">${translations.hospitals_nearby}:</span>
                        <span class="assessment-value">1 ${translations.unit_days || '–±–æ–ª—å–Ω–∏—Ü–∞'}</span>
                    </div>
                    <div class="assessment-item">
                        <span class="assessment-label">${translations.shopping_centers}:</span>
                        <span class="assessment-value">2 ${translations.unit_days || '—Ü–µ–Ω—Ç—Ä–∞'}</span>
                    </div>
                </div>
            `;
        }

        // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —è–∑—ã–∫–∞ –æ—Ç—á–µ—Ç–∞
        function setReportLanguage(language) {
            currentReportLanguage = language;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[data-lang="${language}"]`).classList.add('active');
            
            // –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –æ—Ç—á–µ—Ç–∞
            if (isReportGenerated) {
                generateReportContent();
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–æ–π –∫–Ω–æ–ø–∫–∏ —è–∑—ã–∫–∞
        function initializeLanguageButtons() {
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫ –∫–∞–∫ –∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            setReportLanguage('ru');
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç—á–µ—Ç–∞
        async function saveReport() {
            if (!reportData) {
                showError('–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è');
                return;
            }

            try {
                showLoading(true);
                
                // –ó–¥–µ—Å—å –±—É–¥–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π API –≤—ã–∑–æ–≤ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ç—á–µ—Ç–∞
                await simulateSaveReport();
                
                showLoading(false);
                showSuccess('–û—Ç—á–µ—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω!');
                
                // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ø–∏—Å–∫—É –æ—Ç—á–µ—Ç–æ–≤
                setTimeout(() => {
                    window.location.href = 'webapp_my_reports.html';
                }, 2000);
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ç—á–µ—Ç–∞:', error);
                showLoading(false);
                showError('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ç—á–µ—Ç–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');
            }
        }

        // –°–∏–º—É–ª—è—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—Ç—á–µ—Ç–∞
        async function simulateSaveReport() {
            return new Promise((resolve) => {
                setTimeout(() => {
                    console.log('–û—Ç—á–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω:', {
                        ...reportData,
                        language: currentReportLanguage,
                        savedAt: new Date().toISOString()
                    });
                    resolve();
                }, 1000);
            });
        }

        // –í–æ–∑–≤—Ä–∞—Ç –∫ —Ñ–æ—Ä–º–µ
        function backToForm() {
            document.getElementById('input-form').classList.remove('hidden');
            document.getElementById('report-section').classList.add('hidden');
            document.getElementById('language-selection').classList.add('hidden');
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ
            isReportGenerated = false;
            reportData = null;
            currentReportLanguage = 'ru';
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É —è–∑—ã–∫–∞
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫ –∫–∞–∫ –∞–∫—Ç–∏–≤–Ω—ã–π
            setReportLanguage('ru');
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É
        function showLoading(show) {
            const loading = document.getElementById('loading');
            if (show) {
                loading.classList.remove('hidden');
            } else {
                loading.classList.add('hidden');
            }
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É
        function showError(message) {
            const error = document.getElementById('error');
            error.textContent = message;
            error.classList.remove('hidden');
        }

        // –°–∫—Ä—ã—Ç—å –æ—à–∏–±–∫—É
        function hideError() {
            document.getElementById('error').classList.add('hidden');
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —É—Å–ø–µ—Ö
        function showSuccess(message) {
            // –°–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ
            const success = document.createElement('div');
            success.className = 'success';
            success.textContent = message;
            
            const container = document.querySelector('.container');
            container.insertBefore(success, container.firstChild);
            
            setTimeout(() => {
                success.remove();
            }, 3000);
        }
    </script>
</body>
</html>
