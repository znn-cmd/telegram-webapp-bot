# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã "–ü—Ä–æ–≥–Ω–æ–∑ —Ü–µ–Ω—ã –∏ –∞—Ä–µ–Ω–¥—ã"

## –û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

–¢–∞–±–ª–∏—Ü–∞ "–ü—Ä–æ–≥–Ω–æ–∑ —Ü–µ–Ω—ã –∏ –∞—Ä–µ–Ω–¥—ã" –±—ã–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ç–∞–±–ª–∏—Ü—ã "–î–µ—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ç—Ä–µ–Ω–¥–æ–≤" –≤–º–µ—Å—Ç–æ –∏—Å—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ –±–∞–∑—ã.

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

### 1. ‚úÖ –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö

**–ë—ã–ª–æ**: –¢–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–≥–Ω–æ–∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (`unit_price_for_sale`, `unit_price_for_rent`, `yield`).

**–°—Ç–∞–ª–æ**: –¢–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–≥–Ω–æ–∑–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å —É—á–µ—Ç–æ–º –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö —Ü–µ–Ω.

### 2. ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

**–ë—ã–ª–æ**: –ü–æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü –∏ –≤—Å–µ –±—É–¥—É—â–∏–µ –º–µ—Å—è—Ü—ã.

**–°—Ç–∞–ª–æ**: –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –±—É–¥—É—â–∏–µ –º–µ—Å—è—Ü—ã (—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞ —Ç–µ–∫—É—â–∏–º).

**–õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏**:
```javascript
// –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º —Ç—Ä–µ–Ω–¥—ã —Å —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–º–∏ —Ü–µ–Ω–∞–º–∏
const trendsWithHistoricalPrices = prepareTrendsWithHistoricalPrices(trends);

// –§–∏–ª—å—Ç—Ä—É–µ–º —Ç—Ä–µ–Ω–¥—ã: —Ç–æ–ª—å–∫–æ –ë–£–î–£–©–ò–ï –º–µ—Å—è—Ü—ã (—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞ —Ç–µ–∫—É—â–∏–º)
const forecastTrends = trendsWithHistoricalPrices.filter(trend => {
    if (trend.property_year > currentYear) {
        return true; // –ë—É–¥—É—â–∏–µ –≥–æ–¥—ã
    } else if (trend.property_year === currentYear) {
        return trend.property_month > currentMonth; // –¢–æ–ª—å–∫–æ –º–µ—Å—è—Ü—ã –ü–û–°–õ–ï —Ç–µ–∫—É—â–µ–≥–æ
    }
    return false;
});
```

### 3. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã—Ö —Ü–µ–Ω

**–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö**:
```javascript
// –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ —Ü–µ–Ω—ã –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å, –∏–Ω–∞—á–µ –∏—Å—Ö–æ–¥–Ω—ã–µ
const salePrice = trend.is_price_calculated ? trend.calculated_sale_price : trend.unit_price_for_sale;
const rentPrice = trend.is_price_calculated ? trend.calculated_rent_price : trend.unit_price_for_rent;
const yieldValue = trend.yield;
```

### 4. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞ –ø—Ä–æ–≥–Ω–æ–∑–∞

**–ì—Ä–∞—Ñ–∏–∫ –ø—Ä–æ–≥–Ω–æ–∑–∞** —Ç–∞–∫–∂–µ –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:
```javascript
// –í —Ñ—É–Ω–∫—Ü–∏–∏ prepareForecastChartData
const data = sortedTrends.map(trend => {
    if (chartType === 'sale') {
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ —Ü–µ–Ω—ã –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å
        return parseFloat(trend.is_price_calculated ? trend.calculated_sale_price : trend.unit_price_for_sale) || 0;
    } else {
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ —Ü–µ–Ω—ã –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å
        return parseFloat(trend.is_price_calculated ? trend.calculated_rent_price : trend.unit_price_for_rent) || 0;
    }
});
```

## –ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü–µ –ø—Ä–æ–≥–Ω–æ–∑–∞

### –î–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–∞–≤–≥—É—Å—Ç 2025):
| –î–∞—Ç–∞ | –ü—Ä–æ–≥–Ω–æ–∑ –ø—Ä–æ–¥–∞–∂–∏ | –ü—Ä–æ–≥–Ω–æ–∑ –∞—Ä–µ–Ω–¥—ã | –ü—Ä–æ–≥–Ω–æ–∑ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ |
|------|----------------|----------------|-------------------|
| –∞–≤–≥. 2025 | ‚Ç∫61,803,00 | ‚Ç∫302,77 | 5.88% |
| —Å–µ–Ω. 2025 | ‚Ç∫62,794,00 | ‚Ç∫310,37 | 5.93% |
| –æ–∫—Ç. 2025 | ‚Ç∫63,567,00 | ‚Ç∫316,58 | 5.98% |
| ... | ... | ... | ... |

### –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–∞–≤–≥—É—Å—Ç 2025):
| –î–∞—Ç–∞ | –ü—Ä–æ–≥–Ω–æ–∑ –ø—Ä–æ–¥–∞–∂–∏ | –ü—Ä–æ–≥–Ω–æ–∑ –∞—Ä–µ–Ω–¥—ã | –ü—Ä–æ–≥–Ω–æ–∑ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ |
|------|----------------|----------------|-------------------|
| —Å–µ–Ω. 2025 | ‚Ç∫62,794,00 | ‚Ç∫310,37 | 5.93% |
| –æ–∫—Ç. 2025 | ‚Ç∫63,567,00 | ‚Ç∫316,58 | 5.98% |
| –Ω–æ—è. 2025 | ‚Ç∫64,226,00 | ‚Ç∫322,12 | 6.02% |
| ... | ... | ... | ... |

**–ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è**:
1. –£–±—Ä–∞–Ω —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü (–∞–≤–≥. 2025)
2. –í—Å–µ —Ü–µ–Ω—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ `prepareTrendsWithHistoricalPrices`
3. –î–∞–Ω–Ω—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç–µ–º –∂–µ —Ä–∞—Å—á–µ—Ç–∞–º, —á—Ç–æ –≤ –¥–µ—Ç–∞–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í –∫–æ–Ω—Å–æ–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:

```
üî¢ Prepared trends with calculated prices for forecast: 102 records
üìÖ Current date: 2025 8
üîÆ Filtered forecast trends (future months only): 11 records
üîÆ Forecast row 1: —Å–µ–Ω. 2025 - Sale: 62794, Rent: 310.37, Calculated: false
üîÆ Forecast row 2: –æ–∫—Ç. 2025 - Sale: 63567, Rent: 316.58, Calculated: false
...
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ–π

### –û–±—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- `prepareTrendsWithHistoricalPrices(trends)` - —Ä–∞—Å—á–µ—Ç –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö —Ü–µ–Ω
- `calculateHistoricalPrice(basePrice, percentageChange)` - —Ñ–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á–µ—Ç–∞

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:
- –ü—Ä–æ–≥–Ω–æ–∑–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ –∂–µ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ì—Ä–∞—Ñ–∏–∫ –ø—Ä–æ–≥–Ω–æ–∑–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ –∂–µ –∑–Ω–∞—á–µ–Ω–∏—è
- –û–±–µ—Å–ø–µ—á–µ–Ω–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –º–µ–∂–¥—É –≤—Å–µ–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ –¥–∞–Ω–Ω—ã—Ö**: –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
2. **–¢–æ—á–Ω–æ—Å—Ç—å –ø—Ä–æ–≥–Ω–æ–∑–æ–≤**: –ü—Ä–æ–≥–Ω–æ–∑—ã –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö —Ä–∞—Å—á–µ—Ç–∞—Ö
3. **–§–æ–∫—É—Å –Ω–∞ –±—É–¥—É—â–µ–º**: –£–±—Ä–∞–Ω —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü, –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≥–Ω–æ–∑—ã
4. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å**: –ì—Ä–∞—Ñ–∏–∫ –∏ —Ç–∞–±–ª–∏—Ü–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

## –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- `generateForecastTable(trends)` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `prepareTrendsWithHistoricalPrices`
- `prepareForecastChartData(forecastTrends, chartType)` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ —Ü–µ–Ω—ã
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–∞ –≤ `generateTrendsTable` - –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π

- `webapp_object_evaluation.html` - –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –∏ –≥—Ä–∞—Ñ–∏–∫–∞ –ø—Ä–æ–≥–Ω–æ–∑–∞

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–¢–∞–±–ª–∏—Ü–∞ "–ü—Ä–æ–≥–Ω–æ–∑ —Ü–µ–Ω—ã –∏ –∞—Ä–µ–Ω–¥—ã" —Ç–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å —Å–∏—Å—Ç–µ–º–æ–π —Ä–∞—Å—á–µ—Ç–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö —Ü–µ–Ω –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –±—É–¥—É—â–∏–µ –º–µ—Å—è—Ü—ã —Å —Ç–æ—á–Ω—ã–º–∏ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –¥–∞–Ω–Ω—ã–º –≤ –¥–µ—Ç–∞–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ —Ç—Ä–µ–Ω–¥–æ–≤.
