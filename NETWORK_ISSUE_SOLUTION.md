# üåê –†–µ—à–µ–Ω–∏–µ —Å–µ—Ç–µ–≤–æ–π –ø—Ä–æ–±–ª–µ–º—ã –≥–µ–æ–∫–æ–¥–∏–Ω–≥–∞

## –ü—Ä–æ–±–ª–µ–º–∞
```
‚ùå –û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å Google Maps API: HTTPSConnectionPool(host='maps.googleapis.com', port=443): 
Max retries exceeded with url: /maps/api/geocode/json?address=...&key=... 
(Caused by NewConnectionError('<urllib3.connection.HTTPSConnection object at 0x7f7983b93f10>: 
Failed to establish a new connection: [Errno 101] Network is unreachable'))
```

## –ü—Ä–∏—á–∏–Ω–∞
–°–µ—Ä–≤–µ—Ä –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –≤–Ω–µ—à–Ω–∏–º API –∏–∑-–∑–∞ —Å–µ—Ç–µ–≤—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π:
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∏—Å—Ö–æ–¥—è—â–∏—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- Firewall/–ø—Ä–æ–∫—Å–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–µ —Å–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- DNS –ø—Ä–æ–±–ª–µ–º—ã

## –†–µ—à–µ–Ω–∏–µ
Google Maps API –æ—Ç–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ Nominatim API.

### 1. –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```bash
ENABLE_GOOGLE_MAPS=false  # Google Maps API –æ—Ç–∫–ª—é—á–µ–Ω
ENABLE_NOMINATIM=true      # Nominatim API –≤–∫–ª—é—á–µ–Ω
```

### 2. –ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –≤–∫–ª—é—á–∏—Ç—å Google Maps API
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
export ENABLE_GOOGLE_MAPS=true

# –ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ docker-compose.yml
environment:
  - ENABLE_GOOGLE_MAPS=true
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–µ–≤–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Google Maps API
curl -v https://maps.googleapis.com/maps/api/geocode/json

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS
nslookup maps.googleapis.com

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ–∫—Å–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
echo $http_proxy
echo $https_proxy
```

### 4. –í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è —Å–µ—Ç–µ–≤—ã—Ö –ø—Ä–æ–±–ª–µ–º

#### Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
```yaml
# docker-compose.yml
services:
  app:
    network_mode: "host"  # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ö–æ—Å—Ç-—Å–µ—Ç—å
    # –∏–ª–∏
    extra_hosts:
      - "maps.googleapis.com:142.250.185.78"
```

#### Firewall:
```bash
# –†–∞–∑—Ä–µ—à–∏—Ç–µ –∏—Å—Ö–æ–¥—è—â–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–∞ –ø–æ—Ä—Ç 443
sudo ufw allow out 443/tcp
```

#### –ü—Ä–æ–∫—Å–∏:
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ–∫—Å–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
export http_proxy=http://proxy:port
export https_proxy=http://proxy:port
```

### 5. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ Nominatim API:
```bash
export ENABLE_GOOGLE_MAPS=false
export ENABLE_NOMINATIM=true
```

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:
```bash
export ENABLE_GOOGLE_MAPS=false
export ENABLE_NOMINATIM=false
```

#### –õ–æ–∫–∞–ª—å–Ω—ã–π –≥–µ–æ–∫–æ–¥–∏–Ω–≥:
- –°–æ–∑–¥–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –û–≥—Ä–∞–Ω–∏—á–∏—Ç—å—Å—è –∏–∑–≤–µ—Å—Ç–Ω—ã–º–∏ –ª–æ–∫–∞—Ü–∏—è–º–∏

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
1. **–û—Å—Ç–∞–≤—å—Ç–µ —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é** (—Ç–æ–ª—å–∫–æ Nominatim API)
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** —Å–µ—Ä–≤–µ—Ä–∞/–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
3. **–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏** –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ–∫—Å–∏ –∏–ª–∏ firewall
4. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ** –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –≤–Ω–µ—à–Ω–∏–º API

## –°—Ç–∞—Ç—É—Å
‚úÖ **–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞** - Google Maps API –æ—Ç–∫–ª—é—á–µ–Ω, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ Nominatim API
